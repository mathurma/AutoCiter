<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" article-type="research-article" dtd-version="1.1d3" xml:lang="en">
<front>
<journal-meta>
<journal-id journal-id-type="nlm-ta">PLoS Comput Biol</journal-id>
<journal-id journal-id-type="publisher-id">plos</journal-id>
<journal-id journal-id-type="pmc">ploscomp</journal-id>
<journal-title-group>
<journal-title>PLOS Computational Biology</journal-title>
</journal-title-group>
<issn pub-type="ppub">1553-734X</issn>
<issn pub-type="epub">1553-7358</issn>
<publisher>
<publisher-name>Public Library of Science</publisher-name>
<publisher-loc>San Francisco, CA USA</publisher-loc>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">PCOMPBIOL-D-18-01910</article-id>
<article-id pub-id-type="doi">10.1371/journal.pcbi.1006793</article-id>
<article-categories>
<subj-group subj-group-type="heading">
<subject>Research Article</subject>
</subj-group>
<subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Community ecology</subject><subj-group><subject>Community structure</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Ecology and environmental sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Community ecology</subject><subj-group><subject>Community structure</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Biodiversity</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Ecology and environmental sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Biodiversity</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Biochemistry</subject><subj-group><subject>Bioenergetics</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Community ecology</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Ecology and environmental sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Community ecology</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Ecosystems</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Ecology and environmental sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Ecosystems</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Microbial ecology</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Ecology and environmental sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Microbial ecology</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Microbiology</subject><subj-group><subject>Microbial ecology</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Ecological metrics</subject><subj-group><subject>Species diversity</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Ecology and environmental sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Ecological metrics</subject><subj-group><subject>Species diversity</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Biology and life sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Community ecology</subject><subj-group><subject>Community assembly</subject></subj-group></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v3"><subject>Ecology and environmental sciences</subject><subj-group><subject>Ecology</subject><subj-group><subject>Community ecology</subject><subj-group><subject>Community assembly</subject></subj-group></subj-group></subj-group></subj-group></article-categories>
<title-group>
<article-title>Available energy fluxes drive a transition in the diversity, stability, and functional structure of microbial communities</article-title>
<alt-title alt-title-type="running-head">Available energy fluxes drive a transition in the structure of microbial communities</alt-title>
</title-group>
<contrib-group>
<contrib contrib-type="author" corresp="yes" xlink:type="simple">
<contrib-id authenticated="true" contrib-id-type="orcid">http://orcid.org/0000-0002-5007-6877</contrib-id>
<name name-style="western">
<surname>Marsland</surname> <given-names>Robert</given-names> <suffix>III</suffix></name>
<role content-type="http://credit.casrai.org/">Conceptualization</role>
<role content-type="http://credit.casrai.org/">Investigation</role>
<role content-type="http://credit.casrai.org/">Methodology</role>
<role content-type="http://credit.casrai.org/">Software</role>
<role content-type="http://credit.casrai.org/">Visualization</role>
<role content-type="http://credit.casrai.org/">Writing – original draft</role>
<role content-type="http://credit.casrai.org/">Writing – review &amp; editing</role>
<xref ref-type="aff" rid="aff001"><sup>1</sup></xref>
<xref ref-type="corresp" rid="cor001">*</xref>
</contrib>
<contrib contrib-type="author" xlink:type="simple">
<contrib-id authenticated="true" contrib-id-type="orcid">http://orcid.org/0000-0002-9900-5092</contrib-id>
<name name-style="western">
<surname>Cui</surname> <given-names>Wenping</given-names></name>
<role content-type="http://credit.casrai.org/">Conceptualization</role>
<role content-type="http://credit.casrai.org/">Investigation</role>
<role content-type="http://credit.casrai.org/">Writing – review &amp; editing</role>
<xref ref-type="aff" rid="aff001"><sup>1</sup></xref>
<xref ref-type="aff" rid="aff002"><sup>2</sup></xref>
</contrib>
<contrib contrib-type="author" xlink:type="simple">
<contrib-id authenticated="true" contrib-id-type="orcid">http://orcid.org/0000-0001-7315-8018</contrib-id>
<name name-style="western">
<surname>Goldford</surname> <given-names>Joshua</given-names></name>
<role content-type="http://credit.casrai.org/">Conceptualization</role>
<role content-type="http://credit.casrai.org/">Investigation</role>
<role content-type="http://credit.casrai.org/">Writing – original draft</role>
<role content-type="http://credit.casrai.org/">Writing – review &amp; editing</role>
<xref ref-type="aff" rid="aff003"><sup>3</sup></xref>
</contrib>
<contrib contrib-type="author" xlink:type="simple">
<contrib-id authenticated="true" contrib-id-type="orcid">http://orcid.org/0000-0002-2292-5608</contrib-id>
<name name-style="western">
<surname>Sanchez</surname> <given-names>Alvaro</given-names></name>
<role content-type="http://credit.casrai.org/">Conceptualization</role>
<role content-type="http://credit.casrai.org/">Investigation</role>
<role content-type="http://credit.casrai.org/">Writing – review &amp; editing</role>
<xref ref-type="aff" rid="aff004"><sup>4</sup></xref>
</contrib>
<contrib contrib-type="author" xlink:type="simple">
<name name-style="western">
<surname>Korolev</surname> <given-names>Kirill</given-names></name>
<role content-type="http://credit.casrai.org/">Conceptualization</role>
<role content-type="http://credit.casrai.org/">Investigation</role>
<role content-type="http://credit.casrai.org/">Writing – review &amp; editing</role>
<xref ref-type="aff" rid="aff001"><sup>1</sup></xref>
</contrib>
<contrib contrib-type="author" xlink:type="simple">
<name name-style="western">
<surname>Mehta</surname> <given-names>Pankaj</given-names></name>
<role content-type="http://credit.casrai.org/">Conceptualization</role>
<role content-type="http://credit.casrai.org/">Investigation</role>
<role content-type="http://credit.casrai.org/">Methodology</role>
<role content-type="http://credit.casrai.org/">Visualization</role>
<role content-type="http://credit.casrai.org/">Writing – original draft</role>
<role content-type="http://credit.casrai.org/">Writing – review &amp; editing</role>
<xref ref-type="aff" rid="aff001"><sup>1</sup></xref>
</contrib>
</contrib-group>
<aff id="aff001">
<label>1</label>
<addr-line>Department of Physics, Boston University, Boston, MA, USA</addr-line>
</aff>
<aff id="aff002">
<label>2</label>
<addr-line>Department of Physics, Boston College, Chestnut Hill, MA, USA</addr-line>
</aff>
<aff id="aff003">
<label>3</label>
<addr-line>Bioinformatics Program, Boston University, Boston, MA, USA</addr-line>
</aff>
<aff id="aff004">
<label>4</label>
<addr-line>Department of Ecology and Evolutionary Biology, Yale University, New Haven, CT, USA</addr-line>
</aff>
<contrib-group>
<contrib contrib-type="editor" xlink:type="simple">
<name name-style="western">
<surname>Morozov</surname> <given-names>Alexandre V.</given-names></name>
<role>Editor</role>
<xref ref-type="aff" rid="edit1"/>
</contrib>
</contrib-group>
<aff id="edit1">
<addr-line>Rutgers University, UNITED STATES</addr-line>
</aff>
<author-notes>
<fn fn-type="conflict" id="coi001">
<p>The authors have declared that no competing interests exist.</p>
</fn>
<corresp id="cor001">* E-mail: <email xlink:type="simple">marsland@bu.edu</email></corresp>
</author-notes>
<pub-date pub-type="collection">
<month>2</month>
<year>2019</year>
</pub-date>
<pub-date pub-type="epub">
<day>5</day>
<month>2</month>
<year>2019</year>
</pub-date>
<volume>15</volume>
<issue>2</issue>
<elocation-id>e1006793</elocation-id>
<history>
<date date-type="received">
<day>9</day>
<month>11</month>
<year>2018</year>
</date>
<date date-type="accepted">
<day>15</day>
<month>1</month>
<year>2019</year>
</date>
</history>
<permissions>
<copyright-year>2019</copyright-year>
<copyright-holder>Marsland et al</copyright-holder>
<license xlink:href="http://creativecommons.org/licenses/by/4.0/" xlink:type="simple">
<license-p>This is an open access article distributed under the terms of the <ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/" xlink:type="simple">Creative Commons Attribution License</ext-link>, which permits unrestricted use, distribution, and reproduction in any medium, provided the original author and source are credited.</license-p>
</license>
</permissions>
<self-uri content-type="pdf" xlink:href="info:doi/10.1371/journal.pcbi.1006793"/>
<abstract>
<p>A fundamental goal of microbial ecology is to understand what determines the diversity, stability, and structure of microbial ecosystems. The microbial context poses special conceptual challenges because of the strong mutual influences between the microbes and their chemical environment through the consumption and production of metabolites. By analyzing a generalized consumer resource model that explicitly includes cross-feeding, stochastic colonization, and thermodynamics, we show that complex microbial communities generically exhibit a transition as a function of available energy fluxes from a “resource-limited” regime where community structure and stability is shaped by energetic and metabolic considerations to a diverse regime where the dominant force shaping microbial communities is the overlap between species’ consumption preferences. These two regimes have distinct species abundance patterns, different functional profiles, and respond differently to environmental perturbations. Our model reproduces large-scale ecological patterns observed across multiple experimental settings such as nestedness and differential beta diversity patterns along energy gradients. We discuss the experimental implications of our results and possible connections with disorder-induced phase transitions in statistical physics.</p>
</abstract>
<abstract abstract-type="summary">
<title>Author summary</title>
<p>The diversity, stability and functional structure of microbial communities have dramatic effects on the health of humans and of ecosystems. The complexity of these communities has so far precluded the development of a general predictive model that would capture the dependence of these features on environmental conditions. We confronted this challenge by constructing a flexible simulation framework, and randomly sampling parameters under a variety of modeling assumptions to identify generic patterns. We found two qualitatively distinct regimes of community structure, which reproduce observed patterns of biodiversity, and make new predictions about stability and function.</p>
</abstract>
<funding-group>
<award-group id="award001">
<funding-source>
<institution-wrap>
<institution-id institution-id-type="funder-id">http://dx.doi.org/10.13039/100001309</institution-id>
<institution>Research Corporation for Science Advancement</institution>
</institution-wrap>
</funding-source>
<award-id>Scialog Program</award-id>
</award-group>
<award-group id="award002">
<funding-source>
<institution-wrap>
<institution-id institution-id-type="funder-id">http://dx.doi.org/10.13039/100000057</institution-id>
<institution>National Institute of General Medical Sciences</institution>
</institution-wrap>
</funding-source>
<award-id>1R35GM119461</award-id>
<principal-award-recipient>
<name name-style="western">
<surname>Mehta</surname> <given-names>Pankaj</given-names></name>
</principal-award-recipient>
</award-group>
<award-group id="award003">
<funding-source>
<institution-wrap>
<institution-id institution-id-type="funder-id">http://dx.doi.org/10.13039/100001309</institution-id>
<institution>Research Corporation for Science Advancement</institution>
</institution-wrap>
</funding-source>
<award-id>Cottrell Scholar Award</award-id>
<principal-award-recipient>
<name name-style="western">
<surname>Korolev</surname> <given-names>Kirill</given-names></name>
</principal-award-recipient>
</award-group>
<award-group id="award004">
<funding-source>
<institution-wrap>
<institution-id institution-id-type="funder-id">http://dx.doi.org/10.13039/100000893</institution-id>
<institution>Simons Foundation</institution>
</institution-wrap>
</funding-source>
<award-id>Simons Investigator in the Mathematical Modeling of Living Systems</award-id>
<principal-award-recipient>
<name name-style="western">
<surname>Mehta</surname> <given-names>Pankaj</given-names></name>
</principal-award-recipient>
</award-group>
<award-group id="award005">
<funding-source>
<institution-wrap>
<institution-id institution-id-type="funder-id">http://dx.doi.org/10.13039/100000893</institution-id>
<institution>Simons Foundation</institution>
</institution-wrap>
</funding-source>
<award-id>Simons Investigator in the Mathematical Modeling of Living Systems</award-id>
<principal-award-recipient>
<name name-style="western">
<surname>Korolev</surname> <given-names>Kirill</given-names></name>
</principal-award-recipient>
</award-group>
<funding-statement>The funding for this work partly results from a Scialog Program sponsored jointly by Research Corporation for Science Advancement (RCSA) and the Gordon and Betty Moore Foundation (<ext-link ext-link-type="uri" xlink:href="http://rescorp.org/scialog" xlink:type="simple">http://rescorp.org/scialog</ext-link>). This work was also supported by NIH NIGMS grant 1R35GM119461 (<ext-link ext-link-type="uri" xlink:href="https://www.nigms.nih.gov/" xlink:type="simple">https://www.nigms.nih.gov/</ext-link>), by a Cottrell Scholar award from RCSA to KK (<ext-link ext-link-type="uri" xlink:href="http://rescorp.org/cottrell-scholars" xlink:type="simple">http://rescorp.org/cottrell-scholars</ext-link>), and by Simons Investigator in the Mathematical Modeling of Living Systems (MMLS) awards to PM and KK (<ext-link ext-link-type="uri" xlink:href="https://www.simonsfoundation.org/" xlink:type="simple">https://www.simonsfoundation.org/</ext-link>). The funders had no role in study design, data collection and analysis, decision to publish, or preparation of the manuscript.</funding-statement>
</funding-group>
<counts>
<fig-count count="7"/>
<table-count count="0"/>
<page-count count="18"/>
</counts>
<custom-meta-group>
<custom-meta>
<meta-name>PLOS Publication Stage</meta-name>
<meta-value>vor-update-to-uncorrected-proof</meta-value>
</custom-meta>
<custom-meta>
<meta-name>Publication Update</meta-name>
<meta-value>2019-02-22</meta-value>
</custom-meta>
<custom-meta id="data-availability">
<meta-name>Data Availability</meta-name>
<meta-value>Simulation data files may be found at <ext-link ext-link-type="uri" xlink:href="https://github.com/Emergent-Behaviors-in-Biology/crossfeeding-transition" xlink:type="simple">https://github.com/Emergent-Behaviors-in-Biology/crossfeeding-transition</ext-link>. Simulation code can be downloaded from <ext-link ext-link-type="uri" xlink:href="https://github.com/Emergent-Behaviors-in-Biology/community-simulator" xlink:type="simple">https://github.com/Emergent-Behaviors-in-Biology/community-simulator</ext-link>.</meta-value>
</custom-meta>
</custom-meta-group>
</article-meta>
</front>
<body>
<sec id="sec001" sec-type="intro">
<title>Introduction</title>
<p>Microbial communities inhabit every corner of our planet, from our own nutrient-rich guts to the remote depths of the ocean floor. Different environments harbor very different levels of microbial diversity: in some samples of non-saline water at mild temperature and pH, nearly 3,000 coexisting types of bacteria can be detected, whereas at ambient temperatures warmer than 40° C, most cataloged samples contain fewer than 100 distinct variants [<xref ref-type="bibr" rid="pcbi.1006793.ref001">1</xref>]. The functional structure of these communities is also highly variable, with functional traits often reflecting the environment in which the communities are found [<xref ref-type="bibr" rid="pcbi.1006793.ref001">1</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref002">2</xref>]. A central goal of microbial community ecology is to understand how these variations in diversity, stability and functional structure [<xref ref-type="bibr" rid="pcbi.1006793.ref003">3</xref>] arise from an interplay of environmental factors such as energy and resource availability [<xref ref-type="bibr" rid="pcbi.1006793.ref004">4</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref005">5</xref>] and ecological processes such as competition [<xref ref-type="bibr" rid="pcbi.1006793.ref006">6</xref>–<xref ref-type="bibr" rid="pcbi.1006793.ref009">9</xref>] and stochastic colonization [<xref ref-type="bibr" rid="pcbi.1006793.ref010">10</xref>–<xref ref-type="bibr" rid="pcbi.1006793.ref013">13</xref>].</p>
<p>This endeavor is complicated by the fact that microbes dramatically modify their abiotic environments through consumption and secretion of organic and inorganic compounds. This happens on a global scale, as in the Great Oxidation Event two billion years ago [<xref ref-type="bibr" rid="pcbi.1006793.ref014">14</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref015">15</xref>], and also on smaller scales relevant to agriculture, industry and medicine. In this sense, every microbe is an “ecosystem engineer” [<xref ref-type="bibr" rid="pcbi.1006793.ref016">16</xref>]. Metabolic modeling and experiments suggests that metabolically mediated syntrophic interactions should be a generic feature of microbial ecology [<xref ref-type="bibr" rid="pcbi.1006793.ref017">17</xref>–<xref ref-type="bibr" rid="pcbi.1006793.ref019">19</xref>] and that complex microbial communities can self-organize even in constant environments with no spatial structure or predation [<xref ref-type="bibr" rid="pcbi.1006793.ref017">17</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref020">20</xref>]. For these reasons, there has been significant interest in developing new models for community assembly suited to the microbial setting [<xref ref-type="bibr" rid="pcbi.1006793.ref021">21</xref>–<xref ref-type="bibr" rid="pcbi.1006793.ref025">25</xref>].</p>
<p>Here, we present a statistical physics-inspired consumer resource model for microbial community assembly that builds upon the simple model introduced in [<xref ref-type="bibr" rid="pcbi.1006793.ref017">17</xref>] and explicitly includes energetic fluxes, stochastic colonization, syntrophy, and resource competition. We focus on modeling complex communities with many species and metabolites. By necessity, any mathematical model of such a large, diverse ecosystem will contain thousands of parameters that are hard to measure. To circumvent this problem, we take a statistical physics approach where all consumer preferences and metabolic parameters are drawn from random distributions.</p>
<p>This approach to modeling complex systems has its root in the pioneering work of Wigner on the spectrum of heavy nuclei [<xref ref-type="bibr" rid="pcbi.1006793.ref026">26</xref>] and was adapted by May to ecological settings [<xref ref-type="bibr" rid="pcbi.1006793.ref027">27</xref>]. Recently, there has been a renewed interest in using these ideas to understand complex systems in both many-body physics (reviewed in [<xref ref-type="bibr" rid="pcbi.1006793.ref028">28</xref>]) and community assembly [<xref ref-type="bibr" rid="pcbi.1006793.ref012">12</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref017">17</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref025">25</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref029">29</xref>–<xref ref-type="bibr" rid="pcbi.1006793.ref035">35</xref>]. The key insight underlying this approach is that generic and reproducible large-scale patterns observed across multiple settings likely reflect <italic>typical</italic> properties, rather than fine tuned features of any particular realization or community. Consistent with this idea, it was recently shown that a generalized consumer resource model with random parameters can reproduce many of the patterns observed in experiments where natural communities were grown in synthetic minimal environments [<xref ref-type="bibr" rid="pcbi.1006793.ref017">17</xref>].</p>
<p>In this paper, we ask how varying the energy flux into an ecosystem and the amount of cross-feeding affects microbial community assembly. We find that the resulting communities generically fall into two distinct regimes, characterized by qualitative differences in their community-level metabolic networks, functional structures, responses to environmental perturbations, and large-scale biodiversity patterns. We show our model predictions are consistent with data from the Tara Oceans database [<xref ref-type="bibr" rid="pcbi.1006793.ref036">36</xref>] and the Earth Microbiome Project [<xref ref-type="bibr" rid="pcbi.1006793.ref001">1</xref>], and propose feasible experimental tests using synthetic communities.</p>
</sec>
<sec id="sec002" sec-type="materials|methods">
<title>Methods</title>
<p>The starting point for our analysis is a new model that adapts MacArthur’s Consumer Resource Model [<xref ref-type="bibr" rid="pcbi.1006793.ref007">7</xref>] to the microbial context by including energetics, stochastic colonization, and the exchange and consumption of metabolites. We consider the population dynamics of <italic>S</italic> species of consumers (e.g., microbes) competing for <italic>M</italic> types of substitutable resources. We are interested in large, diverse ecosystems where <italic>S</italic>, <italic>M</italic> ≫ 1. A schematic summarizing our model is shown in <xref ref-type="fig" rid="pcbi.1006793.g001">Fig 1</xref>.</p>
<fig id="pcbi.1006793.g001" position="float">
<object-id pub-id-type="doi">10.1371/journal.pcbi.1006793.g001</object-id>
<label>Fig 1</label>
<caption>
<title>Microbial communities engineer complex chemical environments using a single energy source.</title>
<p>(A) Schematic of microbe-mediated energy fluxes in the Thermodynamic Microbial Consumer Resource Model. Each cell of species <italic>i</italic>(= 1, 2, … <italic>S</italic>) supplies itself with energy through import of resources, generating an incoming energy flux <inline-formula id="pcbi.1006793.e001"><alternatives><graphic id="pcbi.1006793.e001g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e001" xlink:type="simple"/><mml:math display="inline" id="M1"><mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula> for each resource type <italic>α</italic>(= 1, 2, … <italic>M</italic>). A fraction <italic>l</italic><sub><italic>α</italic></sub> of this energy leaks back into the environment in the form of metabolic byproducts, with each byproduct type carrying an outgoing energy flux <inline-formula id="pcbi.1006793.e002"><alternatives><graphic id="pcbi.1006793.e002g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e002" xlink:type="simple"/><mml:math display="inline" id="M2"><mml:mrow><mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>β</mml:mi></mml:mrow> <mml:mtext>out</mml:mtext></mml:msubsup> <mml:mo>=</mml:mo> <mml:msub><mml:mo>∑</mml:mo> <mml:mi>α</mml:mi></mml:msub><mml:mspace width="2pt"/><mml:msub><mml:mi>l</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:msub><mml:mi>D</mml:mi> <mml:mrow><mml:mi>β</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub> <mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup></mml:mrow></mml:math></alternatives></inline-formula>. The remaining energy, <inline-formula id="pcbi.1006793.e003"><alternatives><graphic id="pcbi.1006793.e003g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e003" xlink:type="simple"/><mml:math display="inline" id="M3"><mml:msubsup><mml:mi>J</mml:mi> <mml:mi>i</mml:mi> <mml:mtext>grow</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula>, is used to replicate the cell. (B) Each species is defined by a vector of consumer preferences that encode its capacity for harvesting energy from each resource type. These vectors comprise a consumer matrix <italic>c</italic><sub><italic>iα</italic></sub>. (C) A regional pool of species is randomly generated, and communities are initialized with random subsets of these species to simulate stochastic colonization. (D) Each community is supplied with a constant flux <italic>κ</italic><sub>0</sub> of a single resource type (<italic>α</italic> = 0), and all resources are continuously diluted at a fixed rate <inline-formula id="pcbi.1006793.e004"><alternatives><graphic id="pcbi.1006793.e004g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e004" xlink:type="simple"/><mml:math display="inline" id="M4"><mml:msubsup><mml:mi>τ</mml:mi> <mml:mi>R</mml:mi> <mml:mrow><mml:mo>-</mml:mo> <mml:mn>1</mml:mn></mml:mrow></mml:msubsup></mml:math></alternatives></inline-formula>. (E) Consumer populations <italic>N</italic><sub><italic>i</italic></sub> and resource concentrations <italic>R</italic><sub><italic>α</italic></sub> as a function of time for two realizations of this model, with low (<italic>l</italic> = 0.001) and high (<italic>l</italic> = 0.8) levels of uniform metabolic leakage (see <xref ref-type="supplementary-material" rid="pcbi.1006793.s001">S1 Text</xref> Section 2B for parameters).</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.g001" xlink:type="simple"/>
</fig>
<p>A natural setting for considering substitutable resources is when all essential biomass components are supplied in excess, and the limiting factor for growth is the supply of usable energy. In this context, one only needs to keep track of resources from which energy can be harvested. All other nutrients are included implicitly, under the assumption that some of the energy budget is used to import whatever materials are required for growth and reproduction. Terminal waste products from which no more energy can be extracted are likewise treated implicitly, and are not included among the <italic>M</italic> resource types.</p>
<p>In our model, the rate at which an individual of species <italic>i</italic> harvests energy from resource <italic>α</italic> depends on the resource concentration <italic>R</italic><sub><italic>α</italic></sub> as well as on the consumer’s vector of resource preferences <italic>c</italic><sub><italic>iα</italic></sub> through the expression:
<disp-formula id="pcbi.1006793.e005"><alternatives><graphic id="pcbi.1006793.e005g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e005" xlink:type="simple"/><mml:math display="block" id="M5"><mml:mtable displaystyle="true"><mml:mtr><mml:mtd columnalign="right"><mml:mrow><mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup> <mml:mo>=</mml:mo> <mml:msub><mml:mi>w</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:mi>σ</mml:mi> <mml:mrow><mml:mo>(</mml:mo> <mml:msub><mml:mi>c</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub> <mml:msub><mml:mi>R</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:mo>)</mml:mo></mml:mrow> <mml:mo>,</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:math></alternatives> <label>(1)</label></disp-formula>
where <italic>σ</italic>(<italic>x</italic>) encodes the functional response and has units of mass/time, while <italic>w</italic><sub><italic>α</italic></sub> is the energy density of resource <italic>α</italic> with units of energy/mass. In the microbial context the consumer preferences <italic>c</italic><sub><italic>iα</italic></sub> can be interpreted as expression levels of transporters for each of the resources. In the main text, we focus on Type-I responses where <italic>σ</italic>(<italic>x</italic>) = <italic>x</italic>, and we set <italic>w</italic><sub><italic>α</italic></sub> = 1 for all <italic>α</italic>, but most of our results still hold when <italic>σ</italic>(<italic>x</italic>) is a Monod function or the <italic>w</italic><sub><italic>α</italic></sub> are randomly sampled, as shown in Section 3 of <xref ref-type="supplementary-material" rid="pcbi.1006793.s001">S1 Text</xref>.</p>
<p>We model leakage and secretion by letting a fraction <italic>l</italic><sub><italic>α</italic></sub> of this imported energy return to the environment, so that the power available to the cell for sustaining growth is equal to
<disp-formula id="pcbi.1006793.e006"><alternatives><graphic id="pcbi.1006793.e006g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e006" xlink:type="simple"/><mml:math display="block" id="M6"><mml:mtable displaystyle="true"><mml:mtr><mml:mtd columnalign="right"><mml:mrow><mml:msubsup><mml:mi>J</mml:mi> <mml:mi>i</mml:mi> <mml:mtext>grow</mml:mtext></mml:msubsup> <mml:mo>=</mml:mo> <mml:munder><mml:mo>∑</mml:mo> <mml:mi>α</mml:mi></mml:munder> <mml:mrow><mml:mo>(</mml:mo> <mml:mn>1</mml:mn> <mml:mo>-</mml:mo> <mml:msub><mml:mi>l</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:mo>)</mml:mo></mml:mrow> <mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup> <mml:mo>.</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:math></alternatives> <label>(2)</label></disp-formula></p>
<p>This parameterization guarantees that the community does not spontaneously generate usable energy in violation of the Second Law of Thermodynamics. We assume that a fixed quantity <italic>m</italic><sub><italic>i</italic></sub> of power per cell is required for maintenance of a steady population of species <italic>i</italic>, and that the per-capita growth rate is proportional to the remaining energy flux, with proportionality constant <italic>g</italic><sub><italic>i</italic></sub>. In typical experimental conditions, cell death is negligible, and <italic>m</italic><sub><italic>i</italic></sub> is the energy harvest required for the replication rate to keep up with the dilution rate. Under these assumptions, the time-evolution of the population size <italic>N</italic><sub><italic>i</italic></sub> of species <italic>i</italic> can be modeled using the equation
<disp-formula id="pcbi.1006793.e007"><alternatives><graphic id="pcbi.1006793.e007g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e007" xlink:type="simple"/><mml:math display="block" id="M7"><mml:mtable displaystyle="true"><mml:mtr><mml:mtd columnalign="right"><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi> <mml:msub><mml:mi>N</mml:mi> <mml:mi>i</mml:mi></mml:msub></mml:mrow> <mml:mrow><mml:mi>d</mml:mi> <mml:mi>t</mml:mi></mml:mrow></mml:mfrac> <mml:mo>=</mml:mo> <mml:msub><mml:mi>g</mml:mi> <mml:mi>i</mml:mi></mml:msub> <mml:msub><mml:mi>N</mml:mi> <mml:mi>i</mml:mi></mml:msub> <mml:mo>[</mml:mo> <mml:msubsup><mml:mi>J</mml:mi> <mml:mi>i</mml:mi> <mml:mtext>grow</mml:mtext></mml:msubsup> <mml:mo>-</mml:mo> <mml:msub><mml:mi>m</mml:mi> <mml:mi>i</mml:mi></mml:msub> <mml:mo>]</mml:mo> <mml:mo>.</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:math></alternatives> <label>(3)</label></disp-formula></p>
<p>The leaked energy flux <inline-formula id="pcbi.1006793.e008"><alternatives><graphic id="pcbi.1006793.e008g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e008" xlink:type="simple"/><mml:math display="inline" id="M8"><mml:mrow><mml:msubsup><mml:mi>J</mml:mi> <mml:mi>i</mml:mi> <mml:mtext>out</mml:mtext></mml:msubsup> <mml:mo>=</mml:mo> <mml:msub><mml:mo>∑</mml:mo> <mml:mi>α</mml:mi></mml:msub><mml:mspace width="2pt"/><mml:msub><mml:mi>l</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup></mml:mrow></mml:math></alternatives></inline-formula> from each cell of species <italic>i</italic> is partitioned among the <italic>M</italic> possible resource types via the biochemical pathways operating within the cell. We assume that all species share a similar core metabolism, encoded in a matrix <italic>D</italic><sub><italic>βα</italic></sub>. Each element of <italic>D</italic><sub><italic>βα</italic></sub> specifies the fraction of leaked energy from resource <italic>α</italic> that is released in the form of resource <italic>β</italic> (note that by definition, ∑<sub><italic>β</italic></sub> <italic>D</italic><sub><italic>βα</italic></sub> = 1). Thus, in our model the resources that are excreted into the environment are intimately coupled to the resources a cell is consuming. The outgoing energy flux contained in metabolite <italic>β</italic> is given by
<disp-formula id="pcbi.1006793.e009"><alternatives><graphic id="pcbi.1006793.e009g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e009" xlink:type="simple"/><mml:math display="block" id="M9"><mml:mtable displaystyle="true"><mml:mtr><mml:mtd columnalign="right"><mml:mrow><mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>β</mml:mi></mml:mrow> <mml:mtext>out</mml:mtext></mml:msubsup> <mml:mo>=</mml:mo> <mml:msub><mml:mi>w</mml:mi> <mml:mi>β</mml:mi></mml:msub> <mml:msubsup><mml:mi>ν</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>β</mml:mi></mml:mrow> <mml:mtext>out</mml:mtext></mml:msubsup> <mml:mo>=</mml:mo> <mml:munder><mml:mo>∑</mml:mo> <mml:mi>α</mml:mi></mml:munder> <mml:msub><mml:mi>D</mml:mi> <mml:mrow><mml:mi>β</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub> <mml:msub><mml:mi>l</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup> <mml:mo>.</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:math></alternatives> <label>(4)</label></disp-formula></p>
<p>The dynamics of the resource concentrations depend on the incoming and outgoing mass fluxes <inline-formula id="pcbi.1006793.e010"><alternatives><graphic id="pcbi.1006793.e010g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e010" xlink:type="simple"/><mml:math display="inline" id="M10"><mml:mrow><mml:msubsup><mml:mi>ν</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup> <mml:mo>=</mml:mo> <mml:mi>σ</mml:mi> <mml:mrow><mml:mo>(</mml:mo> <mml:msub><mml:mi>c</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub> <mml:msub><mml:mi>R</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:math></alternatives></inline-formula> and <inline-formula id="pcbi.1006793.e011"><alternatives><graphic id="pcbi.1006793.e011g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e011" xlink:type="simple"/><mml:math display="inline" id="M11"><mml:msubsup><mml:mi>ν</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>out</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula>, which are related to the energy fluxes via the energy densities <italic>w</italic><sub><italic>α</italic></sub>. In terms of these quantities, we have
<disp-formula id="pcbi.1006793.e012"><alternatives><graphic id="pcbi.1006793.e012g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e012" xlink:type="simple"/><mml:math display="block" id="M12"><mml:mtable displaystyle="true"><mml:mtr><mml:mtd columnalign="right"><mml:mfrac><mml:mrow><mml:mi>d</mml:mi> <mml:msub><mml:mi>R</mml:mi> <mml:mi>α</mml:mi></mml:msub></mml:mrow> <mml:mrow><mml:mi>d</mml:mi> <mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mrow><mml:mo>=</mml:mo> <mml:msub><mml:mi>h</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:mo>+</mml:mo> <mml:munder><mml:mo>∑</mml:mo> <mml:mi>j</mml:mi></mml:munder> <mml:msub><mml:mi>N</mml:mi> <mml:mi>j</mml:mi></mml:msub> <mml:mrow><mml:mo>(</mml:mo> <mml:msubsup><mml:mi>ν</mml:mi> <mml:mrow><mml:mi>j</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>out</mml:mtext></mml:msubsup> <mml:mo>-</mml:mo> <mml:msubsup><mml:mi>ν</mml:mi> <mml:mrow><mml:mi>j</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup> <mml:mo>)</mml:mo></mml:mrow> <mml:mo>,</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:math></alternatives> <label>(5)</label></disp-formula>
with <italic>h</italic><sub><italic>α</italic></sub> encoding the dynamics of externally supplied resources. In this manuscript, we focus on the case where the microbial communities are grown in a chemostat with a single externally supplied resource <italic>α</italic> = 0 (<xref ref-type="fig" rid="pcbi.1006793.g001">Fig 1</xref>). In this case, the resource dynamics can be described by choosing <inline-formula id="pcbi.1006793.e013"><alternatives><graphic id="pcbi.1006793.e013g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e013" xlink:type="simple"/><mml:math display="inline" id="M13"><mml:mrow><mml:msub><mml:mi>h</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:mo>=</mml:mo> <mml:msub><mml:mi>κ</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:mo>-</mml:mo> <mml:msubsup><mml:mi>τ</mml:mi> <mml:mi>R</mml:mi> <mml:mrow><mml:mo>-</mml:mo> <mml:mn>1</mml:mn></mml:mrow></mml:msubsup> <mml:msub><mml:mi>R</mml:mi> <mml:mi>α</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula>, with all the <italic>κ</italic><sub><italic>α</italic></sub> set to zero except for <italic>κ</italic><sub>0</sub>. These equations for <italic>N</italic><sub><italic>i</italic></sub> and <italic>R</italic><sub><italic>α</italic></sub>, along with the expressions for <inline-formula id="pcbi.1006793.e014"><alternatives><graphic id="pcbi.1006793.e014g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e014" xlink:type="simple"/><mml:math display="inline" id="M14"><mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula> and <inline-formula id="pcbi.1006793.e015"><alternatives><graphic id="pcbi.1006793.e015g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e015" xlink:type="simple"/><mml:math display="inline" id="M15"><mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>out</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula>, completely specify the ecological dynamics of the model.</p>
<p>This model has been implemented in a freely available open-source Python package “Community Simulator.” The package can be downloaded from <ext-link ext-link-type="uri" xlink:href="https://github.com/Emergent-Behaviors-in-Biology/community-simulator" xlink:type="simple">https://github.com/Emergent-Behaviors-in-Biology/community-simulator</ext-link>.</p>
</sec>
<sec id="sec003" sec-type="results">
<title>Results</title>
<p>To assess the typical community structure and resource pool stability for ecosystems obeying Eqs (<xref ref-type="disp-formula" rid="pcbi.1006793.e005">1</xref>)–(<xref ref-type="disp-formula" rid="pcbi.1006793.e012">5</xref>), we randomly generated an <italic>M</italic> × <italic>M</italic> metabolic matrix <italic>D</italic><sub><italic>αβ</italic></sub>, and a binary <italic>S</italic> × <italic>M</italic> consumer preference matrix <italic>c</italic><sub><italic>iα</italic></sub> with <italic>S</italic> = 200 species and <italic>M</italic> = 100 resources. We chose <italic>c</italic><sub><italic>iα</italic></sub> so that each species had 10 preferred resource types on average, with <italic>c</italic><sub><italic>iα</italic></sub> = 1, while the rest of the resources were consumed at a baseline level of <italic>c</italic><sub><italic>iα</italic></sub> = 0.01. The metabolic matrix <italic>D</italic><sub><italic>αβ</italic></sub> was sampled from a Dirichlet distribution, which guarantees that all the columns sum to 1 as required by the definition of this parameter. In Section 3 of <xref ref-type="supplementary-material" rid="pcbi.1006793.s001">S1 Text</xref>, we show that the qualitative patterns we observe are unchanged if <italic>c</italic><sub><italic>iα</italic></sub> is drawn from a Gaussian or Gamma distribution, or if the <italic>D</italic><sub><italic>αβ</italic></sub> matrix is made less sparse. The full sampling procedure is detailed in <xref ref-type="supplementary-material" rid="pcbi.1006793.s001">S1 Text</xref> Section 1.</p>
<p>We chose our units of energy flux such that the mean maintenance cost <italic>m</italic><sub><italic>i</italic></sub> over all species in the regional pool is equal to 1. To break ties between species with similar consumption profiles, we added a Gaussian random offset to the <italic>m</italic><sub><italic>i</italic></sub> of each species with standard deviation 0.1. In <xref ref-type="supplementary-material" rid="pcbi.1006793.s013">S12 Fig</xref>., we show that these intrinsic fitness differences do not dominate the ecological dynamics, and that many species with relatively high maintenance costs are able to reach large population sizes in the steady-state communities. Finally, we set all the <italic>w</italic><sub><italic>α</italic></sub> equal to 1, and made all the leakage fractions identical, with <italic>l</italic><sub><italic>α</italic></sub> = <italic>l</italic> for all <italic>α</italic>.</p>
<p>To assess the amount of variability in the results, we initialized 10 different communities by seeding each one with a random subset of 100 species from the full 200-species pool. This simulates the stochastic colonization frequently observed in microbial ecosystems, where the community composition can randomly vary depending on the set of microbes this particular local environment happened to be exposed to [<xref ref-type="bibr" rid="pcbi.1006793.ref037">37</xref>]. <xref ref-type="fig" rid="pcbi.1006793.g001">Fig 1</xref> shows typical dynamical trajectories in the presence of high (<italic>l</italic> = 0.8) and extremely low leakage (<italic>l</italic> = 0.001).</p>
<sec id="sec004">
<title>Available energy fluxes drive a transition between a “resource-limited” and “diverse” regime</title>
<p>Our numerical simulations display a transition between two qualitatively different community structures as we vary the externally supplied energy flux <italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub> and the leakage/syntrophy <italic>l</italic>. In the “thermodynamic limit” of <italic>M</italic>, <italic>S</italic> → ∞, the communities exhibit signatures of a phase transition analogous to those found in disordered systems in physics (see <xref ref-type="sec" rid="sec011">Discussion</xref> and <xref ref-type="supplementary-material" rid="pcbi.1006793.s001">S1 Text</xref> Section 5). <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2</xref> shows the effect of this transition on community diversity at our chosen finite values of <italic>S</italic> and <italic>M</italic>. At low levels of energy flux or syntrophy, the diversity is severely limited by resource availability. In the limit of high supplied energy flux and high leakage, a maximally diverse regime is obtained, where the number of surviving species is limited only by the similarity between consumption profiles within the regional species pool, in accordance with classical niche-packing theory [<xref ref-type="bibr" rid="pcbi.1006793.ref007">7</xref>] as we will discuss below.</p>
<fig id="pcbi.1006793.g002" position="float">
<object-id pub-id-type="doi">10.1371/journal.pcbi.1006793.g002</object-id>
<label>Fig 2</label>
<caption>
<title>Steady-state richness as a function of metabolic leakage <italic>l</italic> and externally supplied energy flux <italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub>.</title>
<p>We generated 200 species, initialized 10 communities of 100 species each from this pool, and ran the dynamics to steady state under different combinations of <italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub> and <italic>l</italic> (see main text and <xref ref-type="supplementary-material" rid="pcbi.1006793.s001">S1 Text</xref> Section 2B for parameters). (A) Heat map summarizing all simulations, colored by the average number of surviving species per steady-state community (“Richness”). Slices through the heat map are plotted in <xref ref-type="supplementary-material" rid="pcbi.1006793.s004">S3 Fig</xref>. (B) Community compositions are displayed as rank-abundance curves for three illustrative <italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub>, <italic>l</italic> combinations (colored by community richness): (1) “syntrophy-limited” (<italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub> = 1000, <italic>l</italic> = 0.1), (2) “energy-limited” (<italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub> = 28, <italic>l</italic> = 0.6) and (3) “similarity-limited” (<italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub> = 1000, <italic>l</italic> = 0.9). The lines are assigned different shades for clarity. The first two examples are parts of the same resource-limited regime, manifesting similar statistical properties. The plots are truncated at a relative abundance of 0.5%; see <xref ref-type="supplementary-material" rid="pcbi.1006793.s005">S4 Fig</xref>. for full data.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.g002" xlink:type="simple"/>
</fig>
</sec>
<sec id="sec005">
<title>The resource-limited and diverse regimes produce different patterns of energy flux</title>
<p>The difference between the two regimes is most apparent from the perspective of the energy flux networks. Because our model explicitly accounts for the flow of energy from one resource type into another, we can compute all the steady-state fluxes and represent them graphically, as shown in <xref ref-type="fig" rid="pcbi.1006793.g003">Fig 3</xref> for some representative examples. Each node in this network is a resource type, and each directed edge represents the steady-state flux <italic>J</italic><sub><italic>βα</italic></sub> of energy conversion from resource <italic>α</italic> to resource <italic>β</italic>, mediated by one or more syntrophic consumers:
<disp-formula id="pcbi.1006793.e016"><alternatives><graphic id="pcbi.1006793.e016g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e016" xlink:type="simple"/><mml:math display="block" id="M16"><mml:mtable displaystyle="true"><mml:mtr><mml:mtd columnalign="right"><mml:msub><mml:mi>J</mml:mi> <mml:mrow><mml:mi>β</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>=</mml:mo> <mml:munder><mml:mo>∑</mml:mo> <mml:mi>i</mml:mi></mml:munder> <mml:msub><mml:mi>N</mml:mi> <mml:mi>i</mml:mi></mml:msub> <mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>β</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>out</mml:mtext></mml:msubsup> <mml:mo>=</mml:mo> <mml:msub><mml:mi>D</mml:mi> <mml:mrow><mml:mi>β</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub> <mml:msub><mml:mi>l</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:munder><mml:mo>∑</mml:mo> <mml:mi>i</mml:mi></mml:munder> <mml:msub><mml:mi>N</mml:mi> <mml:mi>i</mml:mi></mml:msub> <mml:msub><mml:mi>w</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:msub><mml:mi>c</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub> <mml:msub><mml:mi>R</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:mo>.</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:math></alternatives> <label>(6)</label></disp-formula></p>
<fig id="pcbi.1006793.g003" position="float">
<object-id pub-id-type="doi">10.1371/journal.pcbi.1006793.g003</object-id>
<label>Fig 3</label>
<caption>
<title>Energy flux networks differ in the two regimes.</title>
<p>Community-scale energy flux networks are plotted for a characteristic example from the diverse and resource limited regimes and two different choices of metabolic matrix <italic>D</italic><sub><italic>αβ</italic></sub>. The color of each pixel in the heat maps indicates the logarithm (base 10) of the corresponding matrix entry. In the networks, each node represents one of the <italic>M</italic> = 100 resource types. Edges represent steady-state energy flux from one resource type into another, mediated by consumer metabolism and leakage/secretion. The thickness of each edge is proportional to the flux magnitude, and edges with magnitudes less than 1% of the maximum flux are not displayed. The single node at the top of each graph is the externally supplied resource, and the rows of nodes at the bottom are resources that are not connected to the external supply by any flux above the 1% threshold. A topological analysis of the flux networks of all the simulated communities can be found in <xref ref-type="supplementary-material" rid="pcbi.1006793.s011">S10 Fig</xref>.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.g003" xlink:type="simple"/>
</fig>
<p>The resource-limited regime produces a unidirectional flow of energy, which is converted from the externally supplied resource type into an orderly succession of secreted resources. For the sparse metabolic matrix shown in the top row of <xref ref-type="fig" rid="pcbi.1006793.g003">Fig 3</xref>, most resource types also have extremely small incoming flux vectors in this regime, with magnitudes less than 1% the size of the largest flux in the network. The diverse regime displays a qualitatively different structure, where all resources have significant incoming fluxes (regardless of the choice of <italic>D</italic><sub><italic>αβ</italic></sub>), and the large number of loops in the network makes it impossible to put the resource types into any definite order. In <xref ref-type="supplementary-material" rid="pcbi.1006793.s011">S10 Fig</xref>., we plot the fraction of samples from <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2</xref> whose (pruned) flux networks are free of cycles, and confirm that this observation is generic. The dramatic contrast between the community-level metabolism of the two regimes affects many other global features of the ecosystem, which we will explore in the following sections.</p>
</sec>
<sec id="sec006">
<title>The two regimes have distinct functional structures</title>
<p>To better understand the behavior of consumers in the two regimes, we examined the functional traits of members of typical communities in each one. In the resource-limited regime, many surviving species derive most of their energy directly from the externally supplied resource (<xref ref-type="fig" rid="pcbi.1006793.g004">Fig 4A</xref>). In the diverse regime, by contrast, only a minority of the steady-state community members can consume this resource at all, and even these species receive most of their energy from a diverse array of metabolic byproducts (<xref ref-type="fig" rid="pcbi.1006793.g004">Fig 4B</xref>). We quantified this observation using the Simpson Diversity <inline-formula id="pcbi.1006793.e017"><alternatives><graphic id="pcbi.1006793.e017g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e017" xlink:type="simple"/><mml:math display="inline" id="M17"><mml:msubsup><mml:mi>M</mml:mi> <mml:mi>i</mml:mi> <mml:mtext>eff</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula> of the incoming resource flux vectors <inline-formula id="pcbi.1006793.e018"><alternatives><graphic id="pcbi.1006793.e018g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e018" xlink:type="simple"/><mml:math display="inline" id="M18"><mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula>, which measures the effective number of resources consumed by each species, and is closely related to the inverse participation ratio in statistical physics. The Simpson Diversity is defined by
<disp-formula id="pcbi.1006793.e019"><alternatives><graphic id="pcbi.1006793.e019g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e019" xlink:type="simple"/><mml:math display="block" id="M19"><mml:mrow><mml:mtable><mml:mtr><mml:mtd><mml:mrow><mml:msubsup><mml:mi>M</mml:mi><mml:mi>i</mml:mi><mml:mrow><mml:mtext>eff</mml:mtext></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:msup><mml:mrow><mml:mrow><mml:mo>[</mml:mo> <mml:mrow><mml:mstyle displaystyle="true"><mml:munder><mml:mo>∑</mml:mo><mml:mi>α</mml:mi></mml:munder><mml:mrow><mml:msup><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mfrac><mml:mrow><mml:msubsup><mml:mi>J</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>α</mml:mi></mml:mrow><mml:mrow><mml:mtext>in</mml:mtext></mml:mrow></mml:msubsup></mml:mrow><mml:mrow><mml:msubsup><mml:mi>J</mml:mi><mml:mi>i</mml:mi><mml:mrow><mml:mtext>in</mml:mtext></mml:mrow></mml:msubsup></mml:mrow></mml:mfrac></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow></mml:mstyle></mml:mrow> <mml:mo>]</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mo>−</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:msup><mml:mo>,</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:math></alternatives> <label>(7)</label></disp-formula>
where <inline-formula id="pcbi.1006793.e020"><alternatives><graphic id="pcbi.1006793.e020g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e020" xlink:type="simple"/><mml:math display="inline" id="M20"><mml:mrow><mml:msubsup><mml:mi>J</mml:mi> <mml:mi>i</mml:mi> <mml:mtext>in</mml:mtext></mml:msubsup> <mml:mo>=</mml:mo> <mml:msub><mml:mo>∑</mml:mo> <mml:mi>α</mml:mi></mml:msub><mml:mspace width="2pt"/><mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup></mml:mrow></mml:math></alternatives></inline-formula> is the total incoming energy flux for each cell of this species. <inline-formula id="pcbi.1006793.e021"><alternatives><graphic id="pcbi.1006793.e021g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e021" xlink:type="simple"/><mml:math display="inline" id="M21"><mml:msubsup><mml:mi>M</mml:mi> <mml:mi>i</mml:mi> <mml:mtext>eff</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula> approaches 1 for species that obtain the bulk of their energy from a single resource type and approaches <italic>M</italic> when all resource types are consumed equally. In the resource-limited regime, the distribution of these values is sharply peaked around 2. In the diverse regime, the peak is located around 10, which is the average number of resources with high transporter expression in our binary sampling scheme for <italic>c</italic><sub><italic>iα</italic></sub>. This shows that most community members in the diverse regime utilize multiple energy sources, with the incoming flux spread evenly over all resource types they are capable of consuming.</p>
<fig id="pcbi.1006793.g004" position="float">
<object-id pub-id-type="doi">10.1371/journal.pcbi.1006793.g004</object-id>
<label>Fig 4</label>
<caption>
<title>Structure and stability of resource dynamics depend on ecological regime.</title>
<p>(A) Consumed energy fluxes <inline-formula id="pcbi.1006793.e022"><alternatives><graphic id="pcbi.1006793.e022g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e022" xlink:type="simple"/><mml:math display="inline" id="M22"><mml:mrow><mml:mrow><mml:mo>(</mml:mo> <mml:mn>1</mml:mn> <mml:mo>-</mml:mo> <mml:mi>l</mml:mi> <mml:mo>)</mml:mo></mml:mrow> <mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup></mml:mrow></mml:math></alternatives></inline-formula> for each of the ten surviving species in a resource-limited community (example 2 from <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2</xref>). The black portion of the bar is the flux <inline-formula id="pcbi.1006793.e023"><alternatives><graphic id="pcbi.1006793.e023g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e023" xlink:type="simple"/><mml:math display="inline" id="M23"><mml:mrow><mml:mrow><mml:mo>(</mml:mo> <mml:mn>1</mml:mn> <mml:mo>-</mml:mo> <mml:mi>l</mml:mi> <mml:mo>)</mml:mo></mml:mrow> <mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mn>0</mml:mn></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup></mml:mrow></mml:math></alternatives></inline-formula> due to the externally supplied resource, and the colored bars represent the contributions of the other resources. Since these communities have reached the steady state, <xref ref-type="disp-formula" rid="pcbi.1006793.e007">Eq (3)</xref> implies that the total height of each bar equals the maintenance cost <italic>m</italic><sub><italic>i</italic></sub> of the corresponding consumer species. (B) Same as previous panel, but for a community from the diverse regime (example 3 from <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2</xref>). (C) Simpson diversity <inline-formula id="pcbi.1006793.e024"><alternatives><graphic id="pcbi.1006793.e024g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e024" xlink:type="simple"/><mml:math display="inline" id="M24"><mml:msubsup><mml:mi>M</mml:mi> <mml:mi>i</mml:mi> <mml:mtext>eff</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula> of steady-state flux vector <inline-formula id="pcbi.1006793.e025"><alternatives><graphic id="pcbi.1006793.e025g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e025" xlink:type="simple"/><mml:math display="inline" id="M25"><mml:msubsup><mml:mi>J</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mtext>in</mml:mtext></mml:msubsup></mml:math></alternatives></inline-formula> for each species from examples 2 (resource-limited) and 3 (diverse) in <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2</xref>. Vertical lines indicate the values of this metric when all the flux is concentrated on a single resource (“Specialist”), and where it is evenly spread over ten resource types (“Generalist”). (D) Logarithm of susceptibility <inline-formula id="pcbi.1006793.e026"><alternatives><graphic id="pcbi.1006793.e026g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e026" xlink:type="simple"/><mml:math display="inline" id="M26"><mml:mrow><mml:msub><mml:mo form="prefix">log</mml:mo> <mml:mn>10</mml:mn></mml:msub> <mml:mi>∂</mml:mi> <mml:msub><mml:mover accent="true"><mml:mi>R</mml:mi> <mml:mo>¯</mml:mo></mml:mover> <mml:mi>α</mml:mi></mml:msub> <mml:mo>/</mml:mo> <mml:mi>∂</mml:mi> <mml:msub><mml:mi>κ</mml:mi> <mml:mi>α</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> of community-supplied resources (<italic>α</italic> ≠ 0) to addition of an externally supplied flux <italic>κ</italic><sub><italic>α</italic></sub> in these two examples.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.g004" xlink:type="simple"/>
</fig>
</sec>
<sec id="sec007">
<title>Responses to resource perturbations differ in the two regimes</title>
<p>Another important property of microbial ecosystems is how they respond to environmental perturbations. Previous theoretical studies have shown that sufficiently diverse communities can “pin” the resource concentrations in their local environment to fixed values, which are independent of the magnitude of externally supplied fluxes [<xref ref-type="bibr" rid="pcbi.1006793.ref021">21</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref038">38</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref039">39</xref>]. In these studies, resource pinning occurs only when the community saturates the diversity bound imposed by the principal of competitive exclusion, i.e. when the number of coexisting species is at least as large as the number of resource types. Such maximally diverse communities typically require fine-tuning of the resource utilization profiles or imposition of universal efficiency tradeoffs in cellular metabolism.</p>
<p>In our stochastically assembled communities, the diversity is always much lower than the number of resource types, so we hypothesized that the resource concentrations should not be pinned. To test this idea, we measured the response of the steady-state concentrations <inline-formula id="pcbi.1006793.e027"><alternatives><graphic id="pcbi.1006793.e027g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e027" xlink:type="simple"/><mml:math display="inline" id="M27"><mml:msub><mml:mover accent="true"><mml:mi>R</mml:mi> <mml:mo>¯</mml:mo></mml:mover> <mml:mi>α</mml:mi></mml:msub></mml:math></alternatives></inline-formula> to changes in external supply rates <italic>κ</italic><sub><italic>α</italic></sub>, in terms of the “resource susceptibilities” <inline-formula id="pcbi.1006793.e028"><alternatives><graphic id="pcbi.1006793.e028g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e028" xlink:type="simple"/><mml:math display="inline" id="M28"><mml:mrow><mml:mi>∂</mml:mi> <mml:msub><mml:mover accent="true"><mml:mi>R</mml:mi> <mml:mo>¯</mml:mo></mml:mover> <mml:mi>α</mml:mi></mml:msub> <mml:mo>/</mml:mo> <mml:mi>∂</mml:mi> <mml:msub><mml:mi>κ</mml:mi> <mml:mi>α</mml:mi></mml:msub></mml:mrow></mml:math></alternatives></inline-formula> plotted in <xref ref-type="fig" rid="pcbi.1006793.g004">Fig 4D</xref> [<xref ref-type="bibr" rid="pcbi.1006793.ref034">34</xref>]. Our hypothesis was valid in the resource-limited regime, where many resource susceptibilities are comparable to the susceptibility in the empty chemostat <inline-formula id="pcbi.1006793.e029"><alternatives><graphic id="pcbi.1006793.e029g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e029" xlink:type="simple"/><mml:math display="inline" id="M29"><mml:mrow><mml:mi>∂</mml:mi> <mml:msub><mml:mover accent="true"><mml:mi>R</mml:mi> <mml:mo>¯</mml:mo></mml:mover> <mml:mi>α</mml:mi></mml:msub> <mml:mo>/</mml:mo> <mml:mi>∂</mml:mi> <mml:msub><mml:mi>κ</mml:mi> <mml:mi>α</mml:mi></mml:msub> <mml:mo>=</mml:mo> <mml:msub><mml:mi>τ</mml:mi> <mml:mi>R</mml:mi></mml:msub> <mml:mo>=</mml:mo> <mml:mn>1</mml:mn></mml:mrow></mml:math></alternatives></inline-formula>. But in the diverse regime, we were surprised to find that the susceptibilities are 100 times smaller than this maximum value. This suggests that resource pinning may be a generic phenomenon, observable in real ecosystems when the energy supply is sufficiently large.</p>
</sec>
<sec id="sec008">
<title>Niche overlap limits richness in diverse regime</title>
<p>In the diverse regime, the number of coexisting species (“richness”) is not limited by energy availability or by access to secreted metabolites, but is still much less than the maximal value of <italic>M</italic> = 100 set by the competitive exclusion principle [<xref ref-type="bibr" rid="pcbi.1006793.ref008">8</xref>], even though almost all <italic>M</italic> resource types are present at non-negligible levels (as shown in <xref ref-type="supplementary-material" rid="pcbi.1006793.s012">S11 Fig</xref>.). We hypothesized that the diversity in this regime is limited by the degree of similarity between consumption preferences of members of the regional species pool. This can be quantified in terms of the niche overlap [<xref ref-type="bibr" rid="pcbi.1006793.ref009">9</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref040">40</xref>], whose average value in a large regional pool is given by:
<disp-formula id="pcbi.1006793.e030"><alternatives><graphic id="pcbi.1006793.e030g" mimetype="image" position="anchor" xlink:href="info:doi/10.1371/journal.pcbi.1006793.e030" xlink:type="simple"/><mml:math display="block" id="M30"><mml:mtable displaystyle="true"><mml:mtr><mml:mtd columnalign="right"><mml:mrow><mml:mrow><mml:mo>〈</mml:mo> <mml:msub><mml:mi>ρ</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>j</mml:mi></mml:mrow></mml:msub> <mml:mo>〉</mml:mo></mml:mrow> <mml:mo>≡</mml:mo> <mml:mo>〈</mml:mo> <mml:mfrac><mml:mrow><mml:msub><mml:mo>∑</mml:mo> <mml:mi>α</mml:mi></mml:msub><mml:mspace width="2pt"/><mml:msub><mml:mi>c</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub> <mml:msub><mml:mi>c</mml:mi> <mml:mrow><mml:mi>j</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub></mml:mrow> <mml:msqrt><mml:mrow><mml:msub><mml:mo>∑</mml:mo> <mml:mi>α</mml:mi></mml:msub><mml:mspace width="2pt"/><mml:msubsup><mml:mi>c</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mn>2</mml:mn></mml:msubsup> <mml:msub><mml:mo>∑</mml:mo> <mml:mi>α</mml:mi></mml:msub><mml:mspace width="2pt"/><mml:msubsup><mml:mi>c</mml:mi> <mml:mrow><mml:mi>j</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mn>2</mml:mn></mml:msubsup></mml:mrow></mml:msqrt></mml:mfrac> <mml:mo>〉</mml:mo> <mml:mo>=</mml:mo> <mml:mfrac><mml:msup><mml:mrow><mml:mo>〈</mml:mo> <mml:msub><mml:mi>c</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow></mml:msub> <mml:mo>〉</mml:mo></mml:mrow> <mml:mn>2</mml:mn></mml:msup> <mml:mrow><mml:mo>〈</mml:mo> <mml:msubsup><mml:mi>c</mml:mi> <mml:mrow><mml:mi>i</mml:mi> <mml:mi>α</mml:mi></mml:mrow> <mml:mn>2</mml:mn></mml:msubsup> <mml:mo>〉</mml:mo></mml:mrow></mml:mfrac> <mml:mo>.</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:math></alternatives> <label>(8)</label></disp-formula></p>
<p>
<xref ref-type="fig" rid="pcbi.1006793.g005">Fig 5</xref> shows how the richness varies as a function of 〈<italic>ρ</italic><sub><italic>ij</italic></sub>〉. In the diverse regime the mean richness decreases approximately linearly with increasing overlap. The richness of the resource-limited regime, on the other hand, has only a very weak dependence on the niche overlap. These results suggest that the distribution of consumption preferences in the regional pool is the primary driver of community assembly in the diverse regime. Importantly, non-zero niche overlap limits the number of coexisting species well below the upper bound imposed by the competitive exclusion principle.</p>
<fig id="pcbi.1006793.g005" position="float">
<object-id pub-id-type="doi">10.1371/journal.pcbi.1006793.g005</object-id>
<label>Fig 5</label>
<caption>
<title>Richness of diverse regime depends on generalized niche-overlap.</title>
<p>We took the values of supplied energy flux <italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub> and leakage fraction <italic>l</italic> from the three examples highlighted in <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2</xref>, and varied the average niche overlap 〈<italic>ρ</italic><sub><italic>ij</italic></sub>〉 between members of the metacommunity. For each <italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub>, <italic>l</italic> combination and each value of 〈<italic>ρ</italic><sub><italic>ij</italic></sub>〉, we generated 10 pools of 200 species, initialized 10 communities of 100 species each from this pool, and ran the dynamics to steady state. The steady-state richness of each community is plotted against the niche overlap. Points are colored by their regime (diverse or resource-limited), and solid lines are linear regressions. Inset: <italic>c</italic><sub><italic>iα</italic></sub> matrices that define the regional pool for two different levels of overlap, with dark squares representing high consumption coefficients.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.g005" xlink:type="simple"/>
</fig>
</sec>
<sec id="sec009">
<title>Nestedness and other large-scale beta-diversity patterns</title>
<p>Our aim in developing this model is to identify and understand generic patterns in community structure, that are independent of particular biological details. In large-scale surveys of natural communities, subject to many sources of noise and environmental heterogeneity, one expects that only sufficiently generic patterns will be detectable. The simplest observable to examine in such survey data is the list of species that are present or absent in each sample. We obtained these presence/absence vectors from the simulations of <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2</xref>, and found that when we sorted species by prevalence (rows in <xref ref-type="fig" rid="pcbi.1006793.g006">Fig 6A</xref>) and samples by richness (columns in <xref ref-type="fig" rid="pcbi.1006793.g006">Fig 6A</xref>), the community composition generically exhibited a nested structure—less diverse communities tended to be subsets of more diverse communities [<xref ref-type="bibr" rid="pcbi.1006793.ref041">41</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref042">42</xref>]. We quantified this result using an established nestedness metric, as described in <xref ref-type="supplementary-material" rid="pcbi.1006793.s001">S1 Text</xref> and <xref ref-type="supplementary-material" rid="pcbi.1006793.s008">S7 Fig</xref>., and found that the actual nestedness exceeds the mean value for a randomized null model by more than 100 standard deviations. This suggests that nested structures may generically emerge in community assembly through the interplay of stochastic colonization, competition, and environmental filtering.</p>
<fig id="pcbi.1006793.g006" position="float">
<object-id pub-id-type="doi">10.1371/journal.pcbi.1006793.g006</object-id>
<label>Fig 6</label>
<caption>
<title>Resource-limited regime features community-level environmental filtering.</title>
<p>(A) Presence (black) or absence (white) of all species in all 1,000 communities from the original simulations of <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2</xref>. (B, C, D) We initialized 200 new communities for each of the three examples highlighted in <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2A</xref>, by randomly choosing sets of 100 species from the regional pool. Each panel shows the projection of final community compositions {<italic>N</italic><sub><italic>i</italic></sub>} onto the first two principal components of the set of compositions.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.g006" xlink:type="simple"/>
</fig>
<p>Next, we asked if we large-scale beta-diversity patterns could be used to distinguish the resource-limited and diverse regimes. We initialized 200 new communities with 100 randomly chosen members from the full regional species pool and simulated these communities to steady state in both the resource-limited and diverse regimes (see <xref ref-type="supplementary-material" rid="pcbi.1006793.s001">S1 Text</xref> Section 2B for details). This sub-sampling of the full regional species pools mimics the effect of stochastic colonization, where a different random subset of species seeds each community. To better understand beta-diversity signatures in the two regimes, we performed a Principal Component Analysis (PCA) on community composition and projected the data onto the first two principal components, as shown in <xref ref-type="fig" rid="pcbi.1006793.g006">Fig 6B–6D</xref>. In the resource-limited regime, the communities form distinct clusters that are distinguished by different highly abundant species. This suggests that harsh environments only allow a few species from the regional pool to rise to dominance, and that these dominant species induce clustering of communities. Such “enterotype”-like behavior is a common feature observed in many microbial settings [<xref ref-type="bibr" rid="pcbi.1006793.ref043">43</xref>]. In contrast, the diverse regime exhibited neither well-defined clusters nor dominant, highly abundant species.</p>
</sec>
<sec id="sec010">
<title>Comparison to microbial datasets</title>
<p>The preceding results suggest that the resource-limited and diverse regimes can be distinguished using beta-diversity patterns. Rigorous testing of this prediction is beyond the scope of the present work. But as an illustration of the kind of data we hope to explain, we examined the natural gradient of solar energy supply in the Tara Oceans survey, which collected microbial community samples from a range of depths across the world’s oceans [<xref ref-type="bibr" rid="pcbi.1006793.ref036">36</xref>]. Explicitly including light as an energy source would require some modification to the structure of the model equations, but we expect that the large-scale features of sufficiently diverse ecosystems should not be sensitive to changes involving just one resource. We analyzed the 16S OTU composition of tropical ocean communities for all 30 sea-surface samples, where solar energy is plentiful, and all 13 samples from the deep-sea mesopelagic zone where energy fluxes are limited. We projected these composition vectors onto their first two principal components as in <xref ref-type="fig" rid="pcbi.1006793.g006">Fig 6</xref> above, and plot the results in <xref ref-type="fig" rid="pcbi.1006793.g007">Fig 7</xref>. The sea surface data superficially resembles our diverse regime, with a relatively uniform distribution of possible community compositions. In contrast, the Mesopelagic Zone is similar to our resource-limited regime: the dominance of the most abundant species is much more pronounced, and the compositions appear to cluster into four discrete types. While these results are consistent with our model predictions, the number of samples at each depth is still too small to draw any definitive conclusions about clustering.</p>
<fig id="pcbi.1006793.g007" position="float">
<object-id pub-id-type="doi">10.1371/journal.pcbi.1006793.g007</object-id>
<label>Fig 7</label>
<caption>
<title>Ecological regimes and nestedness in microbiome data.</title>
<p>(A) 16S OTU compositions of tropical mesopelagic zone samples from the Tara Oceans database, collected at a depth of 200 to 1,000 meters [<xref ref-type="bibr" rid="pcbi.1006793.ref036">36</xref>]. Each dot is the projection of one sample onto the first two principal components of the collection of mesopelagic zone samples. (B) Same as A, but for tropical surface water layer samples, collected at a depth of 5 meters. (C) Presence (black) or absence (white) of each OTU above 0.5% relative abundance across all Tara Oceans samples.</p>
</caption>
<graphic mimetype="image" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.g007" xlink:type="simple"/>
</fig>
<p>As mentioned above, our model also gives a natural explanation for the nestedness in the Earth Microbiome Project community composition data [<xref ref-type="bibr" rid="pcbi.1006793.ref001">1</xref>], suggesting that it may be a natural byproduct of complex microbial communities shaped by competition, environmental heterogeneity, and stochastic colonization. To test how generic this feature is, we plotted presence/absence community compositions of all samples from the Tara Oceans dataset, sorting samples by richness and OTU’s (“species”) by prevalence. Each sample contains thousands of low-abundance OTU’s, which can obscure ecological patterns through their susceptibility to sequencing noise and transient immigration. We therefore imposed a 0.5% relative abundance threshold for an OTU to count as “present.” The resulting pattern in <xref ref-type="fig" rid="pcbi.1006793.g007">Fig 7</xref> is qualitatively similar to our simulations (<xref ref-type="fig" rid="pcbi.1006793.g006">Fig 6D</xref>), and to the phylum-level data of the Earth Microbiome Project [<xref ref-type="bibr" rid="pcbi.1006793.ref001">1</xref>], with the region below the diagonal significantly less populated than the region above the diagonal (although the signal is much weaker). In <xref ref-type="supplementary-material" rid="pcbi.1006793.s001">S1 Text</xref> Section 4 and <xref ref-type="supplementary-material" rid="pcbi.1006793.s008">S7 Fig</xref>., we quantify the nestedness using the same metric employed in the Earth Microbiome Project analysis [<xref ref-type="bibr" rid="pcbi.1006793.ref001">1</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref044">44</xref>], and show that the score is significantly higher than the mean scores from two standard null models.</p>
</sec>
</sec>
<sec id="sec011" sec-type="conclusions">
<title>Discussion</title>
<p>Advances in sequencing technology have opened new horizons for the study of microbial ecology, generating massive amounts of data on the composition of both natural and synthetic communities. But the complexity of these systems make it difficult to extract robust general principles suitable for guiding medical and industrial applications. Numerical simulations provide a powerful tool for addressing this problem. By rapidly iterating numerical experiments under a variety of modeling choices with random parameters, one can identify robust patterns and use the resulting insights to guide targeted experiments.</p>
<p>Following this strategy, we developed a thermodynamic consumer resource model that explicitly includes energetic fluxes and metabolically mediated cross-feeding and competition. Using this model, we identified two qualitatively distinct regimes as we varied the amount of energy supplied to ecosystem and the fraction of energy leaked back into the environment: a low diversity “resource-limited” regime and a “diverse” regime. The structure of the resource-limited regime is strongly constrained by species- and community-level environmental filtering. Each community is dominated by a handful of species, making the community properties sensitive to the idiosyncratic characteristics of these species and susceptible to environmental fluctuations. In the diverse regime, communities exhibit more universal features because they substantially engineer their environments. In particular, the concentrations of resources at steady state are more narrowly distributed and insensitive to perturbations in the external supply rates. Moreover, each species draws its energy roughly equally from all resources, rather than subsisting on the externally supplied resource as in the resource-limited regime.</p>
<p>The emergence of environmental engineering from this community-scale model makes it a valuable tool for testing and refining existing conceptual frameworks employed by empirical biologists [<xref ref-type="bibr" rid="pcbi.1006793.ref045">45</xref>]. A major limitation of the dominant paradigms for evolution and ecology from the last century is the implicit assumption of a constant environment [<xref ref-type="bibr" rid="pcbi.1006793.ref046">46</xref>]. The generalized Lotka-Volterra model, for example, remains a standard lens for reasoning about ecological dynamics, both quantitatively and qualitatively [<xref ref-type="bibr" rid="pcbi.1006793.ref047">47</xref>–<xref ref-type="bibr" rid="pcbi.1006793.ref049">49</xref>]. It assumes that the dynamics emerge from the sum of pairwise interactions among species, and that the sign and strength of these interactions are intrinsic properties of the species. This can be a good assumption in some circumstances [<xref ref-type="bibr" rid="pcbi.1006793.ref047">47</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref048">48</xref>], but fails to accurately describe the behavior of simple models that explicitly account for the state of the environment [<xref ref-type="bibr" rid="pcbi.1006793.ref050">50</xref>]. Our work provides a starting point for determining the conditions under which pairwise models will generically succeed or fail in describing the behavior of large ecosystems.</p>
<p>Our model complements other recent efforts at understanding microbial community ecology. Taillefumier <italic>et al</italic>. proposed a similar model of metabolite exchange, and focused on the case where the number of resource types <italic>M</italic> is equal to 3 [<xref ref-type="bibr" rid="pcbi.1006793.ref021">21</xref>]. In this case, repeated invasion attempts from a large regional species pool produced optimal combinations of metabolic strategies. Goyal <italic>et al</italic>. examined the opposite limit, with <italic>M</italic> = 5, 000, but allowed each species to consume only one type of resource [<xref ref-type="bibr" rid="pcbi.1006793.ref022">22</xref>]. This generated communities with a tree-like metabolic structure, where each species depends directly on another species to generate its unique food source. In our model, the large number of resource types (<italic>M</italic> = 100 in the current study) makes spontaneous strategy optimization extremely unlikely. And our generic protocol for sampling the metabolic matrix <italic>D</italic><sub><italic>αβ</italic></sub> allows a variety of community-level energy flux topologies to emerge, as illustrated in <xref ref-type="fig" rid="pcbi.1006793.g003">Fig 3</xref>, which can sometimes be quite different from the tree networks of Goyal <italic>et al</italic>. The absence of highly specialized metabolic structure in our model makes it especially well-suited for interpreting patterns in large-scale sequence-based datasets such as the Earth Microbiome Project [<xref ref-type="bibr" rid="pcbi.1006793.ref001">1</xref>].</p>
<p>Our model predictions can also be directly tested using experiments with natural communities in synthetic laboratory environments [<xref ref-type="bibr" rid="pcbi.1006793.ref017">17</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref051">51</xref>]. Our model predicts that beta-diversity patterns and community-level metabolic networks can be significantly altered by increasing the ecosystem’s energy supply, inducing a transition from the resource-limited to the diverse regime. In the experimental set-up of [<xref ref-type="bibr" rid="pcbi.1006793.ref051">51</xref>], this can be done by directly adding chitinase enzymes to the sludge reactor to increase the degradation of chitin-based organic particles on which the ocean-derived microbial communities subsist. One could then look for shifts in the resulting diversity patterns, and observe any changes in the topology of the metabolic flux network using isotope labeling.</p>
<p>In this work we have largely confined ourselves to studying steady-state properties of well-mixed microbial communities. Microbial communities often exhibit complex temporal dynamics with well-defined successions [<xref ref-type="bibr" rid="pcbi.1006793.ref051">51</xref>–<xref ref-type="bibr" rid="pcbi.1006793.ref053">53</xref>]. It will be interesting to explore these dynamical phenomena using our model. It is also well established that spatial structure can give rise to new ecological phenomena [<xref ref-type="bibr" rid="pcbi.1006793.ref054">54</xref>, <xref ref-type="bibr" rid="pcbi.1006793.ref055">55</xref>] and an important area of future work will be to better explore the role of space in microbial community assembly.</p>
<p>Finally, we have obtained strong numerical evidence that the two regimes are separated by a phase transition, which is likely closely related to disorder-induced phase transitions in statistical physics [<xref ref-type="bibr" rid="pcbi.1006793.ref032">32</xref>]. In Supporting Text Section 5, we examine the steady-state richness in the three examples of <xref ref-type="fig" rid="pcbi.1006793.g002">Fig 2</xref> under increasing values of <italic>M</italic> from <italic>M</italic> = 40 to <italic>M</italic> = 560. We find that the richness is proportional to <italic>M</italic> in the diverse regime, but scales sub-linearly with <italic>M</italic> in both examples from the resource-limited regime. In the <italic>M</italic> → ∞ limit, therefore, we expect to find a sharp line between the regimes, with the ratio of the richness to <italic>M</italic> vanishing on the resource-limited side. But we do not yet know the exact location of this boundary, or the critical exponents describing the behavior of the system near the transition.</p>
</sec>
<sec id="sec012">
<title>Supporting information</title>
<supplementary-material id="pcbi.1006793.s001" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s001" xlink:type="simple">
<label>S1 Text</label>
<caption>
<title>Simulation details.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s002" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s002" xlink:type="simple">
<label>S1 Fig</label>
<caption>
<title>Richness vs. <italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub> and 〈<italic>l</italic><sub><italic>α</italic></sub>〉 under different modeling choices.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s003" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s003" xlink:type="simple">
<label>S2 Fig</label>
<caption>
<title>Simpson Diversity vs. <italic>w</italic><sub>0</sub><italic>κ</italic><sub>0</sub> and 〈<italic>l</italic><sub><italic>α</italic></sub>〉 under different modeling choices.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s004" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s004" xlink:type="simple">
<label>S3 Fig</label>
<caption>
<title>Richness (blue solid) and Simpson Diversity (red dotted) for cuts through the heat map.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s005" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s005" xlink:type="simple">
<label>S4 Fig</label>
<caption>
<title>Rank-abundance curves for three representative examples.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s006" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s006" xlink:type="simple">
<label>S5 Fig</label>
<caption>
<title>Effective number of resources consumed under different modeling choices.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s007" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s007" xlink:type="simple">
<label>S6 Fig</label>
<caption>
<title>Resource susceptibility.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s008" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s008" xlink:type="simple">
<label>S7 Fig</label>
<caption>
<title>Quantification of nestedness.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s009" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s009" xlink:type="simple">
<label>S8 Fig</label>
<caption>
<title>Scaling of consumer richness with system size.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s010" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s010" xlink:type="simple">
<label>S9 Fig</label>
<caption>
<title>Scaling of other observables.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s011" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s011" xlink:type="simple">
<label>S10 Fig</label>
<caption>
<title>Flux network topology.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s012" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s012" xlink:type="simple">
<label>S11 Fig</label>
<caption>
<title>Number of available resources.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
<supplementary-material id="pcbi.1006793.s013" mimetype="application/pdf" position="float" xlink:href="info:doi/10.1371/journal.pcbi.1006793.s013" xlink:type="simple">
<label>S12 Fig</label>
<caption>
<title>Maintenance costs <italic>m</italic><sub><italic>i</italic></sub>.</title>
<p>(PDF)</p>
</caption>
</supplementary-material>
</sec>
</body>
<back>
<ref-list>
<title>References</title>
<ref id="pcbi.1006793.ref001">
<label>1</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Thompson</surname> <given-names>LR</given-names></name>, <name name-style="western"><surname>Sanders</surname> <given-names>JG</given-names></name>, <name name-style="western"><surname>McDonald</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Amir</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Ladau</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Locey</surname> <given-names>KJ</given-names></name>, <etal>et al</etal>. <article-title>A communal catalogue reveals Earth’s multiscale microbial diversity</article-title>. <source>Nature</source>. <year>2017</year>;<volume>551</volume>:<fpage>457</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature24621" xlink:type="simple">10.1038/nature24621</ext-link></comment> <object-id pub-id-type="pmid">29088705</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref002">
<label>2</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Huttenhower</surname> <given-names>C</given-names></name>, <name name-style="western"><surname>Gevers</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Knight</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Abubucker</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Badger</surname> <given-names>JH</given-names></name>, <name name-style="western"><surname>Chinwalla</surname> <given-names>AT</given-names></name>, <etal>et al</etal>. <article-title>Structure, function and diversity of the healthy human microbiome</article-title>. <source>Nature</source>. <year>2012</year>;<volume>486</volume>:<fpage>207</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature11234" xlink:type="simple">10.1038/nature11234</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref003">
<label>3</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Widder</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Allen</surname> <given-names>RJ</given-names></name>, <name name-style="western"><surname>Pfeiffer</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Curtis</surname> <given-names>TP</given-names></name>, <name name-style="western"><surname>Wiuf</surname> <given-names>C</given-names></name>, <name name-style="western"><surname>Sloan</surname> <given-names>WT</given-names></name>, <etal>et al</etal>. <article-title>Challenges in microbial ecology: building predictive understanding of community function and dynamics</article-title>. <source>The ISME journal</source>. <year>2016</year>;<volume>10</volume>:<fpage>2557</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/ismej.2016.45" xlink:type="simple">10.1038/ismej.2016.45</ext-link></comment> <object-id pub-id-type="pmid">27022995</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref004">
<label>4</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Loreau</surname> <given-names>M</given-names></name>. <article-title>Consumers as maximizers of matter and energy flow in ecosystems</article-title>. <source>The American Naturalist</source>. <year>1995</year>;<volume>145</volume>:<fpage>22</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1086/285726" xlink:type="simple">10.1086/285726</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref005">
<label>5</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Embree</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Liu</surname> <given-names>JK</given-names></name>, <name name-style="western"><surname>Al-Bassam</surname> <given-names>MM</given-names></name>, <name name-style="western"><surname>Zengler</surname> <given-names>K</given-names></name>. <article-title>Networks of energetic and metabolic interactions define dynamics in microbial communities</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2015</year>;<volume>112</volume>:<fpage>15450</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.1506034112" xlink:type="simple">10.1073/pnas.1506034112</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref006">
<label>6</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Gause</surname> <given-names>GF</given-names></name>, <name name-style="western"><surname>Witt</surname> <given-names>AA</given-names></name>. <article-title>Behavior of Mixed Populations and the Problem of Natural Selection</article-title>. <source>The American Naturalist</source>. <year>1935</year>;<volume>69</volume>:<fpage>596</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1086/280628" xlink:type="simple">10.1086/280628</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref007">
<label>7</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>MacArthur</surname> <given-names>R</given-names></name>. <article-title>Species Packing and Competitive Equilibrium for Many Species</article-title>. <source>Theoretical Population Biology</source>. <year>1970</year>;<volume>1</volume>:<fpage>1</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/0040-5809(70)90039-0" xlink:type="simple">10.1016/0040-5809(70)90039-0</ext-link></comment> <object-id pub-id-type="pmid">5527624</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref008">
<label>8</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Levin</surname> <given-names>SA</given-names></name>. <article-title>Community equilibria and stability, and an extension of the competitive exclusion principle</article-title>. <source>The American Naturalist</source>. <year>1970</year>;<volume>104</volume>:<fpage>413</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1086/282676" xlink:type="simple">10.1086/282676</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref009">
<label>9</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Chesson</surname> <given-names>P</given-names></name>. <article-title>MacArthur’s consumer-resource model</article-title>. <source>Theoretical Population Biology</source>. <year>1990</year>;<volume>37</volume>:<fpage>26</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/0040-5809(90)90025-Q" xlink:type="simple">10.1016/0040-5809(90)90025-Q</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref010">
<label>10</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Chase</surname> <given-names>JM</given-names></name>. <article-title>Community assembly: when should history matter?</article-title> <source>Oecologia</source>. <year>2003</year>;<volume>136</volume>:<fpage>489</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1007/s00442-003-1311-7" xlink:type="simple">10.1007/s00442-003-1311-7</ext-link></comment> <object-id pub-id-type="pmid">12836009</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref011">
<label>11</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Jeraldo</surname> <given-names>P</given-names></name>, <name name-style="western"><surname>Sipos</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Chia</surname> <given-names>N</given-names></name>, <name name-style="western"><surname>Brulc</surname> <given-names>JM</given-names></name>, <name name-style="western"><surname>Dhillon</surname> <given-names>AS</given-names></name>, <name name-style="western"><surname>Konkel</surname> <given-names>ME</given-names></name>, <etal>et al</etal>. <article-title>Quantification of the relative roles of niche and neutral processes in structuring gastrointestinal microbiomes</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2012</year>;<volume>109</volume>:<fpage>9692</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.1206721109" xlink:type="simple">10.1073/pnas.1206721109</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref012">
<label>12</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Kessler</surname> <given-names>DA</given-names></name>, <name name-style="western"><surname>Shnerb</surname> <given-names>NM</given-names></name>. <article-title>Generalized model of island biodiversity</article-title>. <source>Physical Review E</source>. <year>2015</year>;<volume>91</volume>:<fpage>042705</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1103/PhysRevE.91.042705" xlink:type="simple">10.1103/PhysRevE.91.042705</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref013">
<label>13</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Vega</surname> <given-names>NM</given-names></name>, <name name-style="western"><surname>Gore</surname> <given-names>J</given-names></name>. <article-title>Stochastic assembly produces heterogeneous communities in the <italic>Caenorhabditis elegans</italic> intestine</article-title>. <source>PLoS Biol</source>. <year>2017</year>;<volume>15</volume>:<fpage>e2000633</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1371/journal.pbio.2000633" xlink:type="simple">10.1371/journal.pbio.2000633</ext-link></comment> <object-id pub-id-type="pmid">28257456</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref014">
<label>14</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Bekker</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Holland</surname> <given-names>HD</given-names></name>, <name name-style="western"><surname>Wang</surname> <given-names>PL</given-names></name>, <name name-style="western"><surname>Rumble</surname> <given-names>D</given-names> <suffix>III</suffix></name>, <name name-style="western"><surname>Stein</surname> <given-names>HJ</given-names></name>, <name name-style="western"><surname>Hannah</surname> <given-names>JL</given-names></name>, <etal>et al</etal>. <article-title>Dating the rise of atmospheric oxygen</article-title>. <source>Nature</source>. <year>2004</year>;<volume>427</volume>:<fpage>117</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature02260" xlink:type="simple">10.1038/nature02260</ext-link></comment> <object-id pub-id-type="pmid">14712267</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref015">
<label>15</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Schirrmeister</surname> <given-names>BE</given-names></name>, <name name-style="western"><surname>Gugger</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Donoghue</surname> <given-names>PCJ</given-names></name>. <article-title>Cyanobacteria and the Great Oxidation Event: Evidence from Genes and Fossils</article-title>. <source>Palaeontology</source>. <year>2015</year>;<volume>58</volume>:<fpage>769</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1111/pala.12178" xlink:type="simple">10.1111/pala.12178</ext-link></comment> <object-id pub-id-type="pmid">26924853</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref016">
<label>16</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Jones</surname> <given-names>CG</given-names></name>, <name name-style="western"><surname>Lawton</surname> <given-names>JH</given-names></name>, <name name-style="western"><surname>Moshe</surname> <given-names>S</given-names></name>. <article-title>Organisms as Ecosystem Engineers</article-title>. <source>Oikos</source>. <year>1994</year>;<volume>69</volume>:<fpage>373</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.2307/3545850" xlink:type="simple">10.2307/3545850</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref017">
<label>17</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Goldford</surname> <given-names>JE</given-names></name>, <name name-style="western"><surname>Lu</surname> <given-names>N</given-names></name>, <name name-style="western"><surname>Bajić</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Estrela</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Tikhonov</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Sanchez-Gorostiaga</surname> <given-names>A</given-names></name>, <etal>et al</etal>. <article-title>Emergent Simplicity in Microbial Community Assembly</article-title>. <source>Science</source>. <year>2018</year>;<volume>361</volume>:<fpage>469</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.aat1168" xlink:type="simple">10.1126/science.aat1168</ext-link></comment> <object-id pub-id-type="pmid">30072533</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref018">
<label>18</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Harcombe</surname> <given-names>WR</given-names></name>, <name name-style="western"><surname>Riehl</surname> <given-names>WJ</given-names></name>, <name name-style="western"><surname>Dukovski</surname> <given-names>I</given-names></name>, <name name-style="western"><surname>Granger</surname> <given-names>BR</given-names></name>, <name name-style="western"><surname>Betts</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Lang</surname> <given-names>AH</given-names></name>, <etal>et al</etal>. <article-title>Metabolic Resource Allocation in Individual Microbes Determines Ecosystem Interactions and Spatial Dynamics</article-title>. <source>Cell Reports</source>. <year>2014</year>;<volume>7</volume>:<fpage>1104</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.celrep.2014.03.070" xlink:type="simple">10.1016/j.celrep.2014.03.070</ext-link></comment> <object-id pub-id-type="pmid">24794435</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref019">
<label>19</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Zomorrodi</surname> <given-names>AR</given-names></name>, <name name-style="western"><surname>Segrè</surname> <given-names>D</given-names></name>. <article-title>Synthetic Ecology of Microbes: Mathematical Models and Applications</article-title>. <source>J Mol Biol</source>. <year>2016</year>;<volume>428</volume>:<fpage>837</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.jmb.2015.10.019" xlink:type="simple">10.1016/j.jmb.2015.10.019</ext-link></comment> <object-id pub-id-type="pmid">26522937</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref020">
<label>20</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Friedman</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Higgins</surname> <given-names>LM</given-names></name>, <name name-style="western"><surname>Gore</surname> <given-names>J</given-names></name>. <article-title>Community structure follows simple assembly rules in microbial microcosms</article-title>. <source>Nature Ecology and Evolution</source>. <year>2017</year>;<volume>1</volume>:<fpage>0109</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/s41559-017-0109" xlink:type="simple">10.1038/s41559-017-0109</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref021">
<label>21</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Taillefumier</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Posfai</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Meir</surname> <given-names>Y</given-names></name>, <name name-style="western"><surname>Wingreen</surname> <given-names>NS</given-names></name>. <article-title>Microbial consortia at steady supply</article-title>. <source>eLife</source>. <year>2017</year>;<volume>6</volume>:<fpage>e22644</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.22644" xlink:type="simple">10.7554/eLife.22644</ext-link></comment> <object-id pub-id-type="pmid">28473032</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref022">
<label>22</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Goyal</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Maslov</surname> <given-names>S</given-names></name>. <article-title>Diversity, stability, and reproducibility in stochastically assembled microbial ecosystems</article-title>. <source>Physical Review Letters</source>. <year>2018</year>;<volume>120</volume>:<fpage>158102</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1103/PhysRevLett.120.158102" xlink:type="simple">10.1103/PhysRevLett.120.158102</ext-link></comment> <object-id pub-id-type="pmid">29756882</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref023">
<label>23</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Good</surname> <given-names>BH</given-names></name>, <name name-style="western"><surname>Martis</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Hallatschek</surname> <given-names>O</given-names></name>. <article-title>Directional selection limits ecological diversification and promotes ecological tinkering during the competition for substitutable resources</article-title>. <source>bioRxiv</source>. <year>2018</year>.</mixed-citation>
</ref>
<ref id="pcbi.1006793.ref024">
<label>24</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Butler</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>O’Dwyer</surname> <given-names>J</given-names></name>. <article-title>Stability Criteria for Complex Microbial Communities</article-title>. <source>bioRxiv</source>. <year>2018</year>.</mixed-citation>
</ref>
<ref id="pcbi.1006793.ref025">
<label>25</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Tikhonov</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Monasson</surname> <given-names>R</given-names></name>. <article-title>Innovation Rather than Improvement: A Solvable High-Dimensional Model Highlights the Limitations of Scalar Fitness</article-title>. <source>Journal of Statistical Physics</source>. <year>2018</year>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1007/s10955-018-1956-6" xlink:type="simple">10.1007/s10955-018-1956-6</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref026">
<label>26</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Wigner</surname> <given-names>EP</given-names></name>. <article-title>Characteristic Vectors of Bordered Matrices With Infinite Dimensions</article-title>. <source>Annals of Mathematics (ser 2)</source>. <year>1955</year>;<volume>62</volume>:<fpage>548</fpage>.</mixed-citation>
</ref>
<ref id="pcbi.1006793.ref027">
<label>27</label>
<mixed-citation publication-type="book" xlink:type="simple">
<name name-style="western"><surname>May</surname> <given-names>RM</given-names></name>. <source>Stability and complexity in model ecosystems</source>. <publisher-loc>Princeton, N.J.</publisher-loc>: <publisher-name>Princeton University Press</publisher-name>; <year>2001</year>.</mixed-citation>
</ref>
<ref id="pcbi.1006793.ref028">
<label>28</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>D’Alessio</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Kafri</surname> <given-names>Y</given-names></name>, <name name-style="western"><surname>Polkovnikov</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Rigol</surname> <given-names>M</given-names></name>. <article-title>From quantum chaos and eigenstate thermalization to statistical mechanics and thermodynamics</article-title>. <source>Advances in Physics</source>. <year>2016</year>;<volume>65</volume>:<fpage>239</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1080/00018732.2016.1198134" xlink:type="simple">10.1080/00018732.2016.1198134</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref029">
<label>29</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Fisher</surname> <given-names>CK</given-names></name>, <name name-style="western"><surname>Mehta</surname> <given-names>P</given-names></name>. <article-title>The transition between the niche and neutral regimes in ecology</article-title>. <source>PNAS</source>. <year>2014</year>;<volume>111</volume>:<fpage>13111</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.1405637111" xlink:type="simple">10.1073/pnas.1405637111</ext-link></comment> <object-id pub-id-type="pmid">25157131</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref030">
<label>30</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Dickens</surname> <given-names>B</given-names></name>, <name name-style="western"><surname>Fisher</surname> <given-names>CK</given-names></name>, <name name-style="western"><surname>Mehta</surname> <given-names>P</given-names></name>. <article-title>Analytically tractable model for community ecology with many species</article-title>. <source>Physical Review E</source>. <year>2016</year>;<volume>94</volume>:<fpage>022423</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1103/PhysRevE.94.022423" xlink:type="simple">10.1103/PhysRevE.94.022423</ext-link></comment> <object-id pub-id-type="pmid">27627348</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref031">
<label>31</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Bunin</surname> <given-names>G</given-names></name>. <article-title>Ecological communities with Lotka-Volterra dynamics</article-title>. <source>Physical Review E</source>. <year>2017</year>;<volume>95</volume>:<fpage>042414</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1103/PhysRevE.95.042414" xlink:type="simple">10.1103/PhysRevE.95.042414</ext-link></comment> <object-id pub-id-type="pmid">28505745</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref032">
<label>32</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Biroli</surname> <given-names>G</given-names></name>, <name name-style="western"><surname>Bunin</surname> <given-names>G</given-names></name>, <name name-style="western"><surname>Cammarota</surname> <given-names>C</given-names></name>. <article-title>Marginally stable equilibria in critical ecosystems</article-title>. <source>New Journal of Physics</source>. <year>2018</year>;<volume>20</volume>:<fpage>083051</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1088/1367-2630/aada58" xlink:type="simple">10.1088/1367-2630/aada58</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref033">
<label>33</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Gibbs</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Grilli</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Rogers</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Allesina</surname> <given-names>S</given-names></name>. <article-title>The effect of population abundances on the stability of large random ecosystems</article-title>. <source>arXiv</source>. <year>2017</year>;1708.08837.</mixed-citation>
</ref>
<ref id="pcbi.1006793.ref034">
<label>34</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Advani</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Bunin</surname> <given-names>G</given-names></name>, <name name-style="western"><surname>Mehta</surname> <given-names>P</given-names></name>. <article-title>Statistical physics of community ecology: a cavity solution to MacArthur’s consumer resource model</article-title>. <source>Journal of Statistical Mechanics</source>. <year>2018</year>; p. <fpage>033406</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1088/1742-5468/aab04e" xlink:type="simple">10.1088/1742-5468/aab04e</ext-link></comment> <object-id pub-id-type="pmid">30636966</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref035">
<label>35</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Barbier</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Arnoldi</surname> <given-names>JF</given-names></name>, <name name-style="western"><surname>Bunin</surname> <given-names>G</given-names></name>, <name name-style="western"><surname>Loreau</surname> <given-names>M</given-names></name>. <article-title>Generic assembly patterns in complex ecological communities</article-title>. <source>Proceedings of the National Academy of Sciences</source>. <year>2018</year>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1073/pnas.1710352115" xlink:type="simple">10.1073/pnas.1710352115</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref036">
<label>36</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Sunagawa</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Coelho</surname> <given-names>LP</given-names></name>, <name name-style="western"><surname>Chaffron</surname> <given-names>S</given-names></name>, <name name-style="western"><surname>Kultima</surname> <given-names>JR</given-names></name>, <name name-style="western"><surname>Labadie</surname> <given-names>K</given-names></name>, <name name-style="western"><surname>Salazar</surname> <given-names>G</given-names></name>, <etal>et al</etal>. <article-title>Structure and function of the global ocean microbiome</article-title>. <source>Science</source>. <year>2015</year>;<volume>348</volume>:<fpage>1261359</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1126/science.1261359" xlink:type="simple">10.1126/science.1261359</ext-link></comment> <object-id pub-id-type="pmid">25999513</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref037">
<label>37</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Obadia</surname> <given-names>B</given-names></name>, <name name-style="western"><surname>Güvener</surname> <given-names>ZT</given-names></name>, <name name-style="western"><surname>Zhang</surname> <given-names>V</given-names></name>, <name name-style="western"><surname>Ceja-Navarro</surname> <given-names>JA</given-names></name>, <name name-style="western"><surname>Brodie</surname> <given-names>EL</given-names></name>, <name name-style="western"><surname>Ja</surname> <given-names>WW</given-names></name>, <etal>et al</etal>. <article-title>Probabilistic Invasion Underlies Natural Gut Microbiome Stability</article-title>. <source>Current Biology</source>. <year>2017</year>;<volume>27</volume>:<fpage>1999</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.cub.2017.05.034" xlink:type="simple">10.1016/j.cub.2017.05.034</ext-link></comment> <object-id pub-id-type="pmid">28625783</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref038">
<label>38</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Posfai</surname> <given-names>A</given-names></name>, <name name-style="western"><surname>Taillefumier</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Wingreen</surname> <given-names>NS</given-names></name>. <article-title>Metabolic Trade-Offs Promote Diversity in a Model Ecosystem</article-title>. <source>Physical Review Letters</source>. <year>2017</year>;<volume>118</volume>:<fpage>028103</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1103/PhysRevLett.118.028103" xlink:type="simple">10.1103/PhysRevLett.118.028103</ext-link></comment> <object-id pub-id-type="pmid">28128613</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref039">
<label>39</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Tikhonov</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Monasson</surname> <given-names>R</given-names></name>. <article-title>Collective Phase in Resource Competition in a Highly Diverse Ecosystem</article-title>. <source>Physical Review Letters</source>. <year>2017</year>;<volume>118</volume>:<fpage>048103</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1103/PhysRevLett.118.048103" xlink:type="simple">10.1103/PhysRevLett.118.048103</ext-link></comment> <object-id pub-id-type="pmid">28186794</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref040">
<label>40</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>MacArthur</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Levins</surname> <given-names>R</given-names></name>. <article-title>The Limiting Similarity, Convergence, and Divergence of Coexisting Species</article-title>. <source>The American Naturalist</source>. <year>1967</year>;<volume>101</volume>:<fpage>377</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1086/282505" xlink:type="simple">10.1086/282505</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref041">
<label>41</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Patterson</surname> <given-names>BD</given-names></name>, <name name-style="western"><surname>Atmar</surname> <given-names>W</given-names></name>. <article-title>Nested subsets and the structure of insular mammalian faunas and archipelagos</article-title>. <source>Biological Journal of the Linnean Society</source>. <year>1986</year>;<volume>28</volume>:<fpage>65</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1111/j.1095-8312.1986.tb01749.x" xlink:type="simple">10.1111/j.1095-8312.1986.tb01749.x</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref042">
<label>42</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Lomolino</surname> <given-names>MV</given-names></name>. <article-title>Investigating Causality of Nestedness of Insular Communities: Selective Immigrations or Extinctions?</article-title> <source>Journal of Biogeography</source>. <year>1996</year>;<volume>23</volume>:<fpage>699</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1111/j.1365-2699.1996.tb00030.x" xlink:type="simple">10.1111/j.1365-2699.1996.tb00030.x</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref043">
<label>43</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Arumugam</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Raes</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Pelletier</surname> <given-names>E</given-names></name>, <name name-style="western"><surname>Le Paslier</surname> <given-names>D</given-names></name>, <name name-style="western"><surname>Yamada</surname> <given-names>T</given-names></name>, <name name-style="western"><surname>Mende</surname> <given-names>DR</given-names></name>, <etal>et al</etal>. <article-title>Enterotypes of the human gut microbiome</article-title>. <source>Nature</source>. <year>2011</year>;<volume>473</volume>:<fpage>174</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/nature09944" xlink:type="simple">10.1038/nature09944</ext-link></comment> <object-id pub-id-type="pmid">21508958</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref044">
<label>44</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Almeida-Neto</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Guimaraes</surname> <given-names>P</given-names></name>, <name name-style="western"><surname>Guimaraes</surname> <given-names>PR</given-names> <suffix>Jr</suffix></name>, <name name-style="western"><surname>Loyola</surname> <given-names>RD</given-names></name>, <name name-style="western"><surname>Ulrich</surname> <given-names>W</given-names></name>. <article-title>A consistent metric for nestedness analysis in ecological systems: reconciling concept and measurement</article-title>. <source>Oikos</source>. <year>2008</year>;<volume>117</volume>(<issue>8</issue>):<fpage>1227</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1111/j.0030-1299.2008.16644.x" xlink:type="simple">10.1111/j.0030-1299.2008.16644.x</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref045">
<label>45</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>, <name name-style="western"><surname>Bergstrom</surname> <given-names>CT</given-names></name>, <name name-style="western"><surname>Chakraborty</surname> <given-names>AK</given-names></name>, <name name-style="western"><surname>Skinner</surname> <given-names>FK</given-names></name>. <article-title>Theory, models and biology</article-title>. <source>Elife</source>. <year>2015</year>;<volume>4</volume>:<fpage>e07158</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.07158" xlink:type="simple">10.7554/eLife.07158</ext-link></comment> <object-id pub-id-type="pmid">26173204</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref046">
<label>46</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Doebeli</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Ispolatov</surname> <given-names>Y</given-names></name>, <name name-style="western"><surname>Simon</surname> <given-names>B</given-names></name>. <article-title>Point of view: Towards a mechanistic foundation of evolutionary theory</article-title>. <source>Elife</source>. <year>2017</year>;<volume>6</volume>:<fpage>e23804</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.23804" xlink:type="simple">10.7554/eLife.23804</ext-link></comment> <object-id pub-id-type="pmid">28198700</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref047">
<label>47</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Venturelli</surname> <given-names>OS</given-names></name>, <name name-style="western"><surname>Carr</surname> <given-names>AV</given-names></name>, <name name-style="western"><surname>Fisher</surname> <given-names>G</given-names></name>, <name name-style="western"><surname>Hsu</surname> <given-names>RH</given-names></name>, <name name-style="western"><surname>Lau</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Bowen</surname> <given-names>BP</given-names></name>, <etal>et al</etal>. <article-title>Deciphering microbial interactions in synthetic human gut microbiome communities</article-title>. <source>Molecular systems biology</source>. <year>2018</year>;<volume>14</volume>:<fpage>e8157</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.15252/msb.20178157" xlink:type="simple">10.15252/msb.20178157</ext-link></comment> <object-id pub-id-type="pmid">29930200</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref048">
<label>48</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Friedman</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Higgins</surname> <given-names>LM</given-names></name>, <name name-style="western"><surname>Gore</surname> <given-names>J</given-names></name>. <article-title>Community structure follows simple assembly rules in microbial microcosms</article-title>. <source>Nature ecology &amp; evolution</source>. <year>2017</year>;<volume>1</volume>:<fpage>0109</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/s41559-017-0109" xlink:type="simple">10.1038/s41559-017-0109</ext-link></comment></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref049">
<label>49</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Farahpour</surname> <given-names>F</given-names></name>, <name name-style="western"><surname>Saeedghalati</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Brauer</surname> <given-names>VS</given-names></name>, <name name-style="western"><surname>Hoffmann</surname> <given-names>D</given-names></name>. <article-title>Trade-off shapes diversity in eco-evolutionary dynamics</article-title>. <source>eLife</source>. <year>2018</year>;<volume>7</volume>:<fpage>e36273</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.36273" xlink:type="simple">10.7554/eLife.36273</ext-link></comment> <object-id pub-id-type="pmid">30117415</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref050">
<label>50</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Momeni</surname> <given-names>B</given-names></name>, <name name-style="western"><surname>Xie</surname> <given-names>L</given-names></name>, <name name-style="western"><surname>Shou</surname> <given-names>W</given-names></name>. <article-title>Lotka-Volterra pairwise modeling fails to capture diverse pairwise microbial interactions</article-title>. <source>Elife</source>. <year>2017</year>;<volume>6</volume>:<fpage>e25051</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.7554/eLife.25051" xlink:type="simple">10.7554/eLife.25051</ext-link></comment> <object-id pub-id-type="pmid">28350295</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref051">
<label>51</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Datta</surname> <given-names>MS</given-names></name>, <name name-style="western"><surname>Sliwerska</surname> <given-names>E</given-names></name>, <name name-style="western"><surname>Gore</surname> <given-names>J</given-names></name>, <name name-style="western"><surname>Polz</surname> <given-names>MF</given-names></name>, <name name-style="western"><surname>Cordero</surname> <given-names>OX</given-names></name>. <article-title>Microbial interactions lead to rapid micro-scale successions on model marine particles</article-title>. <source>Nature Communications</source>. <year>2016</year>;<volume>7</volume>:<fpage>11965</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1038/ncomms11965" xlink:type="simple">10.1038/ncomms11965</ext-link></comment> <object-id pub-id-type="pmid">27311813</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref052">
<label>52</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Wolfe</surname> <given-names>BE</given-names></name>, <name name-style="western"><surname>Dutton</surname> <given-names>RJ</given-names></name>. <article-title>Fermented Foods as Experimentally Tractable Microbial Ecosystems</article-title>. <source>Cell</source>. <year>2015</year>;<volume>161</volume>:<fpage>49</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1016/j.cell.2015.02.034" xlink:type="simple">10.1016/j.cell.2015.02.034</ext-link></comment> <object-id pub-id-type="pmid">25815984</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref053">
<label>53</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Enke</surname> <given-names>TN</given-names></name>, <name name-style="western"><surname>Leventhal</surname> <given-names>GE</given-names></name>, <name name-style="western"><surname>Metzger</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Saavedra</surname> <given-names>JT</given-names></name>, <name name-style="western"><surname>Cordero</surname> <given-names>OX</given-names></name>. <article-title>Micro-scale ecology regulates particulate organic matter turnover in model marine microbial communities</article-title>. <source>bioRxiv</source>. <year>2018</year>.</mixed-citation>
</ref>
<ref id="pcbi.1006793.ref054">
<label>54</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Korolev</surname> <given-names>KS</given-names></name>, <name name-style="western"><surname>Avlund</surname> <given-names>M</given-names></name>, <name name-style="western"><surname>Hallatschek</surname> <given-names>O</given-names></name>, <name name-style="western"><surname>Nelson</surname> <given-names>DR</given-names></name>. <article-title>Genetic demixing and evolution in linear stepping stone models</article-title>. <source>Reviews of Modern Physics</source>. <year>2010</year>;<volume>82</volume>:<fpage>1691</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1103/RevModPhys.82.1691" xlink:type="simple">10.1103/RevModPhys.82.1691</ext-link></comment> <object-id pub-id-type="pmid">21072144</object-id></mixed-citation>
</ref>
<ref id="pcbi.1006793.ref055">
<label>55</label>
<mixed-citation publication-type="journal" xlink:type="simple">
<name name-style="western"><surname>Menon</surname> <given-names>R</given-names></name>, <name name-style="western"><surname>Korolev</surname> <given-names>KS</given-names></name>. <article-title>Public good diffusion limits microbial mutualism</article-title>. <source>Physical Review Letters</source>. <year>2015</year>;<volume>114</volume>:<fpage>168102</fpage>. <comment>doi: <ext-link ext-link-type="uri" xlink:href="https://doi.org/10.1103/PhysRevLett.114.168102" xlink:type="simple">10.1103/PhysRevLett.114.168102</ext-link></comment> <object-id pub-id-type="pmid">25955075</object-id></mixed-citation>
</ref>
</ref-list>
</back>
</article>